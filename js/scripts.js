$(document).ready(function(){"use strict";!function(){var t=$("#formReg");0!==t.length&&($.validator.addMethod("valueNotEquals",function(t,e,a){return a!==t},"Value must not equal arg."),t.validate({rules:{name:{required:!0,minlength:3,maxlength:60},secondname:{required:!0,minlength:3,maxlength:60},email:{required:!0,email:!0},pass:{required:!0,minlength:6,maxlength:16},gender:{valueNotEquals:"default"}},messages:{name:{required:"Username is required.",minlength:"Username should contain min 4 letters.",maxlength:"Username should contain max 60 letters."},secondname:{required:"Secondname is required.",minlength:"Secondname should contain min 4 letters.",maxlength:"Secondname should contain max 60 letters."},email:{required:"Email is required.",email:"Email is not valid."},pass:{required:"Password is required.",minlength:"Password should contain min 6 letters.",maxlength:"Password should contain max 16 letters."},gender:{valueNotEquals:"Gender is required."}},submitHandler:function(e){var a=new FormData(t[0]);$.ajax({url:"http://codeit.pro/frontTestTask/user/registration",data:a,contentType:!1,processData:!1,datatype:"html",success:function(t){"Error"==t.status?alert(t.message):"Form Error"==t.status?alert(t.message):"User created"==t.message&&"OK"==t.status&&(window.location.href="company.php")},error:function(t){var e=t.statusText;"error"!=e?alert("Ошибка: "+e):alert("Неизвестная ошибка.")}})}}))}(),function(){function t(t){for(var e,a,r,s,n="",o="",i=(t=t.list).length-1;i>=0;i--)a=(e=new Date(1e3*t[i].date)).getDate(),r=e.getMonth(),s=t[i].description,String(a).length<2&&(a="0"+e.getDate()),String(r).length<2&&(r="0"+e.getMonth()),n=a+"."+r+"."+e.getFullYear(),s.length>200&&((s=(s=s.substr(0,200)).split(" ")).splice(s.length-1,1),s=s.join(" "),s+="..."),o+='<div><div class="article"><div class="article__top-block"><div class="img"><img src="'+t[i].img+'" alt="'+t[i].author+'"></div><div class="text"><h4><a href="https://'+t[i].link+'">'+t[i].author+"(title)</a></h4><p>"+s+'</p></div></div><div class="article__bottom-block"><p><b>Author:</b> '+t[i].author+"</p><p><b>Public:</b> "+n+"</p></div></div></div>";$("#owl-slider").prepend(o),$(".owl-carousel").owlCarousel({items:1,margin:30,nav:!1,loop:!0,dots:!0})}function e(t){function e(t,e,r){for(var s=[],n=(t=a(e,r)).length-1;n>=0;n--)s+='<li><div class="value"><p>'+t[n].value+'</p></div><div class="name"><p>'+t[n].name+"</p></div></li>";return $("#partners-list").prepend(s),s}function a(t,e){return"DESC"==t?(p=1,m=-1):(p=-1,m=1),"percentage-sort"==e?l.sort(function(t,e){return t.value>e.value?p:t.value<e.value?m:void 0}):"name-sort"==e&&l.sort(function(t,e){return t.name>e.name?p:t.name<e.name?m:void 0}),l}$(".preloader").remove();var r=$("#companyList");$("#totalCompanies").prepend('<div class="circleCompany"><p> '+t.list.length+" </p></div>  "),r.append("<ul></ul>");for(h=t.list.length-1;h>=0;h--)r.children("ul").prepend('<li><a href="#" class="company" data-company="'+h+'">'+t.list[h].name+"</a></li>");var s,n,o,i,l,c,d,p,m;$(".company").on("click",function(a){if(a.preventDefault(),s=$(this).parents(".item"),i=$(this).data("company"),l=t.list[i].partners,n=$("#partners"),o=$("#partners-list"),$(this).hasClass("active"))return $(this).removeClass("active"),o.empty(),void n.hide();if(!n.length){s.after('<div id="partners"><div class="list-outer"><div class="topBlock"><h3>Company partners</h3><div class="sorting"><p><b>Sort by:</b> <a href="#" id="nameSort" class="sorting-btn">Name</a> <a href="#" id="percentageSort" class="sorting-btn sorted descsort" sorting="DESC">Percentage</a></p></div></div><div class="list-wrap"><ul id="partners-list"></ul></div></div></div>')}$(".company").removeClass("active"),$(this).addClass("active"),n.show(),o.children("li").length&&(o.empty(),n.show()),c=$("#partners .sorted").attr("sorting"),d=$("#partners .sorted").attr("id");var r;e(l,c,d),$("#percentageSort").off("click"),$("#percentageSort").on("click",function(t){t.preventDefault(),d="percentage-sort",r=$(this).attr("sorting"),$("#partners-list").empty(),$("#nameSort").removeAttr("sorting").removeClass("sorted descsort ascsort"),"DESC"==r?(c="ASC",$(this).attr("sorting","ASC"),$(this).removeClass("descsort").addClass("ascsort sorted")):void 0!=r||$(this).hasClass("sorted")?(c="DESC",$(this).attr("sorting","DESC"),$(this).removeClass("ascsort").addClass("descsort sorted")):(c="DESC",$(this).attr("sorting","DESC").addClass("descsort sorted")),e(l,c,d)}),$("#nameSort").off("click"),$("#nameSort").on("click",function(t){t.preventDefault(),d="name-sort",r=$(this).attr("sorting"),$("#partners-list").empty(),$("#percentageSort").removeAttr("sorting").removeClass("sorted descsort ascsort"),"DESC"==r?(c="ASC",$(this).attr("sorting","ASC"),$(this).removeClass("descsort").addClass("ascsort sorted")):void 0!=r||$(this).hasClass("sorted")?(c="DESC",$(this).attr("sorting","DESC"),$(this).removeClass("ascsort").addClass("descsort sorted")):(c="DESC",$(this).attr("sorting","DESC").addClass("descsort sorted")),e(l,c,d)})});for(var u={},h=t.list.length-1;h>=0;h--)void 0!=u[t.list[h].location.name]?u[t.list[h].location.name]++:u[t.list[h].location.name]=1;var v=[],g=[];for(var f in u)v.push(100*u[f]/t.list.length),g.push(f);!function(e,a){for(var r=$("#myChart"),s=[],n=e.length-1;n>=0;n--)s.push(function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());return Math.random(),"rgba("+t+", "+e+", "+a+", 1)"}());$("#myChart").on("click",function(e){for(var a=o.getElementAtEvent(e)[0]._model.label,r=t.list,s="",n=r.length-1;n>=0;n--)r[n].location.name==a&&(s+="<li>"+r[n].name+"</li>");$("#myChart").hide(),$("#companyLoc .countryListWrap").length?($("#companyLoc .countryListWrap h4").empty().append(a+":"),$("#companyLoc .countryListWrap, #backBtn").show(),$("#companyLoc .countryList").empty().append(s),$("#companyLoc .countryList").scrollTop(0)):($("#companyLoc").append('<div class="countryListWrap"><h4>'+a+':</h4><ul class="countryList">'+s+"</ul></div>"),$("#companyLoc").parent(".itemWrap").append('<a href="#" id="backBtn"></a>')),$("#backBtn").on("click",function(t){t.preventDefault(),$("#companyLoc .countryListWrap, #backBtn").hide(),$("#myChart").show()})});var o=new Chart(r,{type:"pie",data:{datasets:[{data:e,backgroundColor:s}],labels:a},options:{layout:{padding:{left:0,right:0,top:25,bottom:0}},tooltips:{intersect:!0,enabled:!0,displayColors:!0,bodyFontColor:"#fff"},legend:{display:!1}}})}(v,g)}if(0!==$("#companiesWrap").length){var a='<div class="preloader"><img src="img/preloader.gif" alt="" /></div>';$.ajax({url:"http://codeit.pro/frontTestTask/company/getList",contentType:!1,processData:!1,datatype:"html",beforeSend:function(){$(".companyContent").prepend(a)},success:function(t){"OK"==t.status&&e(t)},error:function(t){var e=t.statusText;"error"!=e?alert("Ошибка: "+e):alert("Неизвестная ошибка.")}}),$.ajax({url:"http://codeit.pro/frontTestTask/news/getList",contentType:!1,processData:!1,datatype:"html",beforeSend:function(){$("#news").prepend(a)},success:function(e){"OK"==e.status&&t(e)},error:function(t){var e=t.statusText;"error"!=e?alert("Ошибка: "+e):alert("Неизвестная ошибка.")}})}}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCIkZm9ybVJlZyIsImxlbmd0aCIsInZhbGlkYXRvciIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsImFyZyIsInZhbGlkYXRlIiwicnVsZXMiLCJuYW1lIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJzZWNvbmRuYW1lIiwiZW1haWwiLCJwYXNzIiwiZ2VuZGVyIiwidmFsdWVOb3RFcXVhbHMiLCJtZXNzYWdlcyIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiZGF0YSIsIkZvcm1EYXRhIiwiYWpheCIsInVybCIsImNvbnRlbnRUeXBlIiwicHJvY2Vzc0RhdGEiLCJkYXRhdHlwZSIsInN1Y2Nlc3MiLCJzdGF0dXMiLCJhbGVydCIsIm1lc3NhZ2UiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJlcnJvciIsImVycm9yTXNnIiwic3RhdHVzVGV4dCIsInNob3dOZXdzIiwiZGF0ZSIsImRheSIsIm1vbnRoIiwiZGVzY3JpcHRpb24iLCJhcnRpY2xlRGF0ZSIsImFydGljbGVMaXN0IiwiaSIsImxpc3QiLCJEYXRlIiwiZ2V0RGF0ZSIsImdldE1vbnRoIiwiU3RyaW5nIiwiZ2V0RnVsbFllYXIiLCJzdWJzdHIiLCJzcGxpdCIsInNwbGljZSIsImpvaW4iLCJpbWciLCJhdXRob3IiLCJsaW5rIiwicHJlcGVuZCIsIm93bENhcm91c2VsIiwiaXRlbXMiLCJtYXJnaW4iLCJuYXYiLCJsb29wIiwiZG90cyIsImNvbXBhbnlMaXN0IiwiYXBwZW5kUGFydG5lcnMiLCJwYXJ0bmVycyIsInNvcnRCeSIsInNvcnRXaGF0IiwicGFydG5lcnNBcnJheSIsInNvcnRpbmciLCJzb3J0aW5nTnVtMSIsInNvcnRpbmdOdW0yIiwiY29tcGFueVBhcnRuZXJzIiwic29ydCIsImEiLCJiIiwicmVtb3ZlIiwiJGNvbXBhbnlMaXN0IiwiYXBwZW5kIiwiY2hpbGRyZW4iLCIkcGFyZW50IiwiJHBhcnRuZXJzIiwiJHBhcnRuZXJzTGlzdCIsImNvbXBhbnlOdW1iZXIiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInRoaXMiLCJwYXJlbnRzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImVtcHR5IiwiaGlkZSIsImFmdGVyIiwiYWRkQ2xhc3MiLCJzaG93IiwiYXR0ciIsImN1cnJlbnRTb3J0TWV0aG9kIiwib2ZmIiwicmVtb3ZlQXR0ciIsInVuZGVmaW5lZCIsImNvdW50cnlBcnIiLCJjaGFydERhdGEiLCJjaGFydExhYmVscyIsImtleSIsInB1c2giLCJjdHgiLCJjaGFydENvbG9ycyIsInIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJnIiwiUmFuZG9tQ29sb3IiLCJjb3VudHJ5IiwibXlQaWVDaGFydCIsImdldEVsZW1lbnRBdEV2ZW50IiwiX21vZGVsIiwibGFiZWwiLCJjb21wYW55Iiwic2Nyb2xsVG9wIiwicGFyZW50IiwiQ2hhcnQiLCJ0eXBlIiwiZGF0YXNldHMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJsYWJlbHMiLCJvcHRpb25zIiwibGF5b3V0IiwicGFkZGluZyIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInRvb2x0aXBzIiwiaW50ZXJzZWN0IiwiZW5hYmxlZCIsImRpc3BsYXlDb2xvcnMiLCJib2R5Rm9udENvbG9yIiwibGVnZW5kIiwiZGlzcGxheSIsImNoYXJ0IiwicHJlbG9hZGVyIiwiYmVmb3JlU2VuZCJdLCJtYXBwaW5ncyI6IkFBQUFBLEVBQUVDLFVBQVVDLE1BQU0sV0FDakIsY0FFQSxXQUNDLElBQUlDLEVBQVdILEVBQUUsWUFDTyxJQUFwQkcsRUFBU0MsU0FDYkosRUFBRUssVUFBVUMsVUFBVSxpQkFBa0IsU0FBU0MsRUFBT0MsRUFBU0MsR0FDaEUsT0FBT0EsSUFBUUYsR0FDYiw2QkFDSEosRUFBU08sVUFDUkMsT0FDQ0MsTUFDQ0MsVUFBVSxFQUNFQyxVQUFXLEVBQ1hDLFVBQVcsSUFFeEJDLFlBQ0NILFVBQVUsRUFDRUMsVUFB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LFdBQ1hySixFQUFFLG1CQUFtQjhELFFBQVFzRixJQUU5QnJILFFBQVMsU0FBVVAsR0FDQyxNQUFmQSxFQUFLUSxRQUNScUMsRUFBWTdDLElBR2RjLE1BQU8sU0FBVWQsR0FDaEIsSUFBSWUsRUFBV2YsRUFBS2dCLFdBQ0osU0FBWkQsRUFDSE4sTUFBTSxXQUFXTSxHQUVqQk4sTUFBTSwwQkFJVGpDLEVBQUUwQixNQUNEQyxJQUFLLCtDQUNMQyxhQUFhLEVBQ2JDLGFBQWEsRUFDYkMsU0FBVSxPQUNWdUgsV0FBWSxXQUNYckosRUFBRSxTQUFTOEQsUUFBUXNGLElBRXBCckgsUUFBUyxTQUFVUCxHQUNDLE1BQWZBLEVBQUtRLFFBQ1JTLEVBQVNqQixJQUdYYyxNQUFPLFNBQVVkLEdBQ2hCLElBQUllLEVBQVdmLEVBQUtnQixXQUNKLFNBQVpELEVBQ0hOLE1BQU0sV0FBV00sR0FFakJOLE1BQU0sMkJBM0NWIiwiZmlsZSI6InNjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuXHQndXNlIHN0cmljdCc7XHJcblx0Ly8gZm9ybS1wYWdlXHJcblx0KGZ1bmN0aW9uICgpIHtcclxuXHRcdHZhciAkZm9ybVJlZyA9ICQoJyNmb3JtUmVnJyk7XHJcblx0XHRpZiAoJGZvcm1SZWcubGVuZ3RoID09PSAwKSB7cmV0dXJuO307IC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQtdGB0YLRjCDQu9C4INGC0LDQutC+0Lkg0Y3Quy4g0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcblx0XHQkLnZhbGlkYXRvci5hZGRNZXRob2QoXCJ2YWx1ZU5vdEVxdWFsc1wiLCBmdW5jdGlvbih2YWx1ZSwgZWxlbWVudCwgYXJnKXtcclxuXHRcdFx0cmV0dXJuIGFyZyAhPT0gdmFsdWU7XHJcblx0XHR9LCBcIlZhbHVlIG11c3Qgbm90IGVxdWFsIGFyZy5cIik7IC8vINC00L7QsdCw0LLQu9GP0LXQvCDQv9GA0LDQstC40LvQviDQstCw0LvQuNC00LDRhtC40LhcclxuXHRcdCRmb3JtUmVnLnZhbGlkYXRlKHtcclxuXHRcdFx0cnVsZXM6IHtcclxuXHRcdFx0XHRuYW1lOiB7XHJcblx0XHRcdFx0XHRyZXF1aXJlZDogdHJ1ZSxcclxuXHQgICAgICAgICAgICAgICAgbWlubGVuZ3RoOiAzLFxyXG5cdCAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDYwLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0c2Vjb25kbmFtZToge1xyXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHRydWUsXHJcblx0ICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogMyxcclxuXHQgICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiA2MCxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGVtYWlsOiB7XHJcblx0XHRcdFx0ICByZXF1aXJlZDogdHJ1ZSxcclxuXHRcdFx0XHQgIGVtYWlsOiB0cnVlLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0cGFzczoge1xyXG5cdFx0XHRcdFx0cmVxdWlyZWQ6IHRydWUsXHJcblx0ICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogNixcclxuXHQgICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAxNixcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGdlbmRlcjogeyB2YWx1ZU5vdEVxdWFsczogXCJkZWZhdWx0XCIgfVx0XHRcdFx0XHRcdFx0XHQgICBcclxuXHRcdFx0fSxcclxuXHRcdFx0bWVzc2FnZXM6IHtcclxuXHRcdFx0XHRuYW1lOiB7XHJcblx0XHRcdFx0XHRyZXF1aXJlZDogJ1VzZXJuYW1lIGlzIHJlcXVpcmVkLicsXHJcblx0ICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogJ1VzZXJuYW1lIHNob3VsZCBjb250YWluIG1pbiA0IGxldHRlcnMuJyxcclxuXHQgICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAnVXNlcm5hbWUgc2hvdWxkIGNvbnRhaW4gbWF4IDYwIGxldHRlcnMuJyxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHNlY29uZG5hbWU6IHtcclxuXHRcdFx0XHRcdHJlcXVpcmVkOiAnU2Vjb25kbmFtZSBpcyByZXF1aXJlZC4nLFxyXG5cdCAgICAgICAgICAgICAgICBtaW5sZW5ndGg6ICdTZWNvbmRuYW1lIHNob3VsZCBjb250YWluIG1pbiA0IGxldHRlcnMuJyxcclxuXHQgICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAnU2Vjb25kbmFtZSBzaG91bGQgY29udGFpbiBtYXggNjAgbGV0dGVycy4nLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdCAgICBlbWFpbDoge1xyXG5cdFx0XHQgICAgICByZXF1aXJlZDogJ0VtYWlsIGlzIHJlcXVpcmVkLicsXHJcblx0XHRcdCAgICAgIGVtYWlsOiAnRW1haWwgaXMgbm90IHZhbGlkLidcclxuXHRcdFx0ICAgIH0sXHJcblx0XHRcdCAgICBwYXNzOiB7XHJcblx0XHRcdFx0XHRyZXF1aXJlZDogJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkLicsXHJcblx0ICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogJ1Bhc3N3b3JkIHNob3VsZCBjb250YWluIG1pbiA2IGxldHRlcnMuJyxcclxuXHQgICAgICAgICAgICAgICAgbWF4bGVuZ3RoOiAnUGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gbWF4IDE2IGxldHRlcnMuJyxcclxuXHRcdFx0ICAgIH0sXHJcblx0XHRcdCAgICBnZW5kZXI6IHsgdmFsdWVOb3RFcXVhbHM6ICdHZW5kZXIgaXMgcmVxdWlyZWQuJyB9XHJcblx0XHRcdH0sXHJcblx0XHRcdHN1Ym1pdEhhbmRsZXI6IGZ1bmN0aW9uKGZvcm0pIHtcclxuXHRcdFx0XHR2YXIgZm9ybV90eXBlX2EgPSAkZm9ybVJlZztcclxuXHRcdFx0XHR2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgkZm9ybVJlZ1swXSk7XHJcblx0XHRcdFx0JC5hamF4KHtcclxuXHRcdFx0XHRcdHVybDogXCJodHRwOi8vY29kZWl0LnByby9mcm9udFRlc3RUYXNrL3VzZXIvcmVnaXN0cmF0aW9uXCIsXHJcblx0XHRcdFx0XHRkYXRhOiBkYXRhLFxyXG5cdFx0XHRcdFx0Y29udGVudFR5cGU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0cHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG5cdFx0XHRcdFx0ZGF0YXR5cGU6ICdodG1sJyxcclxuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiAoZGF0YS5zdGF0dXMgPT0gJ0Vycm9yJykge1xyXG5cdFx0XHRcdFx0XHRcdGFsZXJ0KGRhdGEubWVzc2FnZSk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZihkYXRhLnN0YXR1cyA9PSAnRm9ybSBFcnJvcicpIHtcclxuXHRcdFx0XHRcdFx0XHRhbGVydChkYXRhLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGRhdGEubWVzc2FnZSA9PSAnVXNlciBjcmVhdGVkJyAmJiBkYXRhLnN0YXR1cyA9PSAnT0snKSB7XHJcblx0XHRcdFx0XHRcdFx0d2luZG93LmxvY2F0aW9uLmhyZWYgPSAnY29tcGFueS5waHAnO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0XHRcdHZhciBlcnJvck1zZyA9IGRhdGEuc3RhdHVzVGV4dDtcclxuXHRcdFx0XHRcdFx0aWYgKGVycm9yTXNnICE9ICdlcnJvcicpIHtcclxuXHRcdFx0XHRcdFx0XHRhbGVydCgn0J7RiNC40LHQutCwOiAnK2Vycm9yTXNnKycnKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRhbGVydCgn0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAuJyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHQgICAgXHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHRcclxuXHJcblx0fSkoKTtcclxuXHQvLyBmb3JtLXBhZ2UgRU5EXHJcblxyXG5cdC8vIGNvbXBhbnktcGFnZVxyXG5cdChmdW5jdGlvbiAoKSB7XHJcblx0XHRpZigkKCcjY29tcGFuaWVzV3JhcCcpLmxlbmd0aCA9PT0gMCkge3JldHVybjt9IC8vINCf0YDQvtCy0LXRgNGP0LXQvCDQtdGB0YLRjCDQu9C4INGC0LDQutC+0Lkg0Y3Quy4g0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcblx0ICAgIHZhciBwcmVsb2FkZXIgPSAnPGRpdiBjbGFzcz1cInByZWxvYWRlclwiPjxpbWcgc3JjPVwiaW1nL3ByZWxvYWRlci5naWZcIiBhbHQ9XCJcIiAvPjwvZGl2Pic7XHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6IFwiaHR0cDovL2NvZGVpdC5wcm8vZnJvbnRUZXN0VGFzay9jb21wYW55L2dldExpc3RcIixcclxuXHRcdFx0Y29udGVudFR5cGU6IGZhbHNlLFxyXG5cdFx0XHRwcm9jZXNzRGF0YTogZmFsc2UsXHJcblx0XHRcdGRhdGF0eXBlOiAnaHRtbCcsXHJcblx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uICgpIHtcclxuXHRcdFx0XHQkKCcuY29tcGFueUNvbnRlbnQnKS5wcmVwZW5kKHByZWxvYWRlcik7XHJcblx0XHRcdH0sXHJcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzID09ICdPSycpIHtcclxuXHRcdFx0XHRcdGNvbXBhbnlMaXN0KGRhdGEpO1xyXG5cdFx0XHRcdH1cdFx0XHJcblx0XHRcdH0sXHJcblx0XHRcdGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdHZhciBlcnJvck1zZyA9IGRhdGEuc3RhdHVzVGV4dDtcclxuXHRcdFx0XHRpZiAoZXJyb3JNc2cgIT0gJ2Vycm9yJykge1xyXG5cdFx0XHRcdFx0YWxlcnQoJ9Ce0YjQuNCx0LrQsDogJytlcnJvck1zZysnJyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGFsZXJ0KCfQndC10LjQt9Cy0LXRgdGC0L3QsNGPINC+0YjQuNCx0LrQsC4nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcbiAgICBcdH0pO1xyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiBcImh0dHA6Ly9jb2RlaXQucHJvL2Zyb250VGVzdFRhc2svbmV3cy9nZXRMaXN0XCIsXHJcblx0XHRcdGNvbnRlbnRUeXBlOiBmYWxzZSxcclxuXHRcdFx0cHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG5cdFx0XHRkYXRhdHlwZTogJ2h0bWwnLFxyXG5cdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnI25ld3MnKS5wcmVwZW5kKHByZWxvYWRlcik7XHJcblx0XHRcdH0sXHJcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzID09ICdPSycpIHtcclxuXHRcdFx0XHRcdHNob3dOZXdzKGRhdGEpO1xyXG5cdFx0XHRcdH1cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHR2YXIgZXJyb3JNc2cgPSBkYXRhLnN0YXR1c1RleHQ7XHJcblx0XHRcdFx0aWYgKGVycm9yTXNnICE9ICdlcnJvcicpIHtcclxuXHRcdFx0XHRcdGFsZXJ0KCfQntGI0LjQsdC60LA6ICcrZXJyb3JNc2crJycpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRhbGVydCgn0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAuJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG4gICAgXHR9KTtcclxuXHRcdC8vIG5ld3MgZnVuY1xyXG4gICAgXHRmdW5jdGlvbiBzaG93TmV3cyhkYXRhKSB7XHJcbiAgICBcdFx0dmFyIGRhdGEgPSBkYXRhLmxpc3QsXHJcbiAgICBcdFx0XHRkYXRlLFxyXG4gICAgXHRcdFx0YXJ0aWNsZURhdGUgPSAnJyxcclxuICAgIFx0XHRcdGRheSxcclxuICAgIFx0XHRcdG1vbnRoLFxyXG4gICAgXHRcdFx0YXJ0aWNsZUxpc3QgPSAnJyxcclxuICAgIFx0XHRcdGRlc2NyaXB0aW9uO1xyXG5cclxuICAgIFx0XHRmb3IgKHZhciBpID0gZGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgXHRcdFx0ZGF0ZSA9IG5ldyBEYXRlKGRhdGFbaV0uZGF0ZSoxMDAwKTtcclxuICAgIFx0XHRcdGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgXHRcdFx0bW9udGggPSBkYXRlLmdldE1vbnRoKCk7XHJcbiAgICBcdFx0XHRkZXNjcmlwdGlvbiA9IGRhdGFbaV0uZGVzY3JpcHRpb247XHJcbiAgICBcdFx0XHRpZiAoU3RyaW5nKGRheSkubGVuZ3RoIDwgMiApIHtcclxuICAgIFx0XHRcdFx0ZGF5ID0gJzAnICsgZGF0ZS5nZXREYXRlKCk7XHJcbiAgICBcdFx0XHR9XHJcbiAgICBcdFx0XHRpZiAoU3RyaW5nKG1vbnRoKS5sZW5ndGggPCAyICkge1xyXG4gICAgXHRcdFx0XHRtb250aCA9ICcwJyArIGRhdGUuZ2V0TW9udGgoKTtcclxuICAgIFx0XHRcdH1cclxuICAgIFx0XHRcdGFydGljbGVEYXRlID0gZGF5ICsgJy4nICsgbW9udGggKyAnLicgKyBkYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICBcdFx0XHRpZiAoZGVzY3JpcHRpb24ubGVuZ3RoID4gMjAwKSB7XHJcbiAgICBcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHRkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnN1YnN0cigwLDIwMCk7XHJcbiAgICBcdFx0XHRcdGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24uc3BsaXQoJyAnKTtcclxuICAgIFx0XHRcdFx0ZGVzY3JpcHRpb24uc3BsaWNlKGRlc2NyaXB0aW9uLmxlbmd0aC0xLDEpO1xyXG4gICAgXHRcdFx0XHRkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLmpvaW4oJyAnKTtcclxuICAgIFx0XHRcdFx0ZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbiArICcuLi4nO1xyXG4gICAgXHRcdFx0fVxyXG4gICAgXHRcdFx0YXJ0aWNsZUxpc3QgKz0gJzxkaXY+PGRpdiBjbGFzcz1cImFydGljbGVcIj48ZGl2IGNsYXNzPVwiYXJ0aWNsZV9fdG9wLWJsb2NrXCI+PGRpdiBjbGFzcz1cImltZ1wiPjxpbWcgc3JjPVwiJytkYXRhW2ldLmltZysnXCIgYWx0PVwiJytkYXRhW2ldLmF1dGhvcisnXCI+PC9kaXY+PGRpdiBjbGFzcz1cInRleHRcIj48aDQ+PGEgaHJlZj1cImh0dHBzOi8vJytkYXRhW2ldLmxpbmsrJ1wiPicrZGF0YVtpXS5hdXRob3IrJyh0aXRsZSk8L2E+PC9oND48cD4nK2Rlc2NyaXB0aW9uKyc8L3A+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz1cImFydGljbGVfX2JvdHRvbS1ibG9ja1wiPjxwPjxiPkF1dGhvcjo8L2I+ICcrZGF0YVtpXS5hdXRob3IrJzwvcD48cD48Yj5QdWJsaWM6PC9iPiAnK2FydGljbGVEYXRlKyc8L3A+PC9kaXY+PC9kaXY+PC9kaXY+JztcclxuICAgIFx0XHR9XHJcbiAgICBcdFx0XHQkKCcjb3dsLXNsaWRlcicpLnByZXBlbmQoYXJ0aWNsZUxpc3QpO1xyXG5cclxuXHJcbiAgICBcdFx0XHQkKCcub3dsLWNhcm91c2VsJykub3dsQ2Fyb3VzZWwoe1xyXG4gICAgXHRcdFx0XHRpdGVtczoxLFxyXG4gICAgXHRcdFx0XHRtYXJnaW46MzAsXHJcbiAgICBcdFx0XHRcdG5hdjogZmFsc2UsXHJcbiAgICBcdFx0XHRcdGxvb3A6dHJ1ZSxcclxuICAgIFx0XHRcdFx0ZG90czogdHJ1ZSxcclxuICAgIFx0XHRcdH0pO1xyXG4gICAgXHR9XHJcbiAgICBcdC8vIG5ld3MgZnVuYyBFTkRcclxuICAgIFx0Ly8gY29tcGFueSBmdW5jXHJcbiAgICBcdGZ1bmN0aW9uIGNvbXBhbnlMaXN0KGRhdGEpIHtcclxuICAgIFx0XHQkKCcucHJlbG9hZGVyJykucmVtb3ZlKCk7XHJcbiAgICBcdFx0XHJcblxyXG5cdFx0XHR2YXIgJGNvbXBhbnlMaXN0ID0gJCgnI2NvbXBhbnlMaXN0JyksXHJcblx0XHRcdCBcdCR0b3RhbENvbXBhbnlEaXYgPSAkKCcjdG90YWxDb21wYW5pZXMnKTtcclxuXHRcdFx0Ly8g0LLRi9Cy0L7QtCDQvtCx0YnQtdCz0L4g0LrQvtC7LdCy0LAg0LrQvtC80L/QsNC90LjQuVxyXG5cdFx0XHQkdG90YWxDb21wYW55RGl2LnByZXBlbmQoJzxkaXYgY2xhc3M9XCJjaXJjbGVDb21wYW55XCI+PHA+ICcrIGRhdGEubGlzdC5sZW5ndGggKycgPC9wPjwvZGl2PiAgJyk7XHJcblxyXG5cdFx0XHQvLyDQstGL0LLQvtC0INC+0LHRidC10LPQviDQutC+0Lst0LLQsCDQutC+0LzQv9Cw0L3QuNC5IEVORFxyXG5cclxuXHRcdFx0Ly8g0LLRi9Cy0L7QtCDQutC+0LzQv9Cw0L3QuNC5XHJcblx0XHRcdCRjb21wYW55TGlzdC5hcHBlbmQoJzx1bD48L3VsPicpO1xyXG5cdFx0XHRmb3IgKHZhciBpID0gZGF0YS5saXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0JGNvbXBhbnlMaXN0LmNoaWxkcmVuKCd1bCcpLnByZXBlbmQoJzxsaT48YSBocmVmPVwiI1wiIGNsYXNzPVwiY29tcGFueVwiIGRhdGEtY29tcGFueT1cIicraSsnXCI+JysgZGF0YS5saXN0W2ldLm5hbWUgKyc8L2E+PC9saT4nKVxyXG5cdFx0XHR9XHJcblx0XHRcdC8vINCy0YvQstC+0LQg0LrQvtC80L/QsNC90LjQuSBFTkRcclxuXHJcblx0XHRcdC8vINCy0YvQstC+0LQg0L/QsNGA0YLQvdC10YDQvtCyINC60L7QvNCw0L3QuNC4XHJcblx0XHRcdHZhciAkcGFyZW50LFxyXG5cdFx0XHRcdCRwYXJ0bmVycyxcclxuXHRcdFx0XHQkcGFydG5lcnNMaXN0LFxyXG5cdFx0XHRcdGNvbXBhbnlOdW1iZXIsXHJcblx0XHRcdFx0Y29tcGFueVBhcnRuZXJzLFxyXG5cdFx0XHRcdHBhcnRuZXJzQXJyYXkgPSBbXSxcclxuXHRcdFx0XHRzb3J0QnksXHJcblx0XHRcdFx0c29ydFdoYXQsXHJcblx0XHRcdFx0c29ydGluZ051bTEsXHJcblx0XHRcdFx0c29ydGluZ051bTI7XHJcblx0XHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRcdCQoJy5jb21wYW55Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHRcdFx0XHRcclxuICAgIFx0XHRcdFx0JHBhcmVudCA9ICQodGhpcykucGFyZW50cygnLml0ZW0nKTtcclxuXHRcdFx0XHRcdGNvbXBhbnlOdW1iZXIgPSAkKHRoaXMpLmRhdGEoJ2NvbXBhbnknKTtcclxuXHRcdFx0XHRcdGNvbXBhbnlQYXJ0bmVycyA9IGRhdGEubGlzdFtjb21wYW55TnVtYmVyXS5wYXJ0bmVycztcclxuXHRcdFx0XHRcdCRwYXJ0bmVycyA9ICQoJyNwYXJ0bmVycycpO1xyXG4gICAgXHRcdFx0XHQkcGFydG5lcnNMaXN0ID0gJCgnI3BhcnRuZXJzLWxpc3QnKTtcclxuXHJcbiAgICBcdFx0XHRcdGlmICggJCh0aGlzKS5oYXNDbGFzcygnYWN0aXZlJykgKSB7XHJcbiAgICBcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBcdFx0XHRcdFx0JHBhcnRuZXJzTGlzdC5lbXB0eSgpO1xyXG4gICAgXHRcdFx0XHRcdCRwYXJ0bmVycy5oaWRlKCk7XHJcbiAgICBcdFx0XHRcdFx0cmV0dXJuO1xyXG4gICAgXHRcdFx0XHR9IGVsc2Uge1xyXG4gICAgXHRcdFx0XHRcdGlmICghJHBhcnRuZXJzLmxlbmd0aCkge1xyXG4gICAgXHRcdFx0XHRcdFx0dmFyIHRvcEJsb2NrID0gJzxkaXYgY2xhc3M9XCJ0b3BCbG9ja1wiPjxoMz5Db21wYW55IHBhcnRuZXJzPC9oMz48ZGl2IGNsYXNzPVwic29ydGluZ1wiPjxwPjxiPlNvcnQgYnk6PC9iPiA8YSBocmVmPVwiI1wiIGlkPVwibmFtZVNvcnRcIiBjbGFzcz1cInNvcnRpbmctYnRuXCI+TmFtZTwvYT4gPGEgaHJlZj1cIiNcIiBpZD1cInBlcmNlbnRhZ2VTb3J0XCIgY2xhc3M9XCJzb3J0aW5nLWJ0biBzb3J0ZWQgZGVzY3NvcnRcIiBzb3J0aW5nPVwiREVTQ1wiPlBlcmNlbnRhZ2U8L2E+PC9wPjwvZGl2PjwvZGl2PicsXHJcbiAgICBcdFx0XHRcdFx0XHRcdHBhcnRuZXJMaXN0QmxvY2sgPSAnPGRpdiBjbGFzcz1cImxpc3Qtd3JhcFwiPjx1bCBpZD1cInBhcnRuZXJzLWxpc3RcIj48L3VsPjwvZGl2PicsXHJcbiAgICBcdFx0XHRcdFx0XHRcdHBhcnRuZXJCbG9jayA9IHRvcEJsb2NrICsgcGFydG5lckxpc3RCbG9jaztcclxuICAgIFx0XHRcdFx0XHRcdCRwYXJlbnQuYWZ0ZXIoJzxkaXYgaWQ9XCJwYXJ0bmVyc1wiPjxkaXYgY2xhc3M9XCJsaXN0LW91dGVyXCI+JytwYXJ0bmVyQmxvY2srJzwvZGl2PjwvZGl2PicpO1xyXG4gICAgXHRcdFx0XHRcdH1cclxuICAgIFx0XHRcdFx0XHQkKCcuY29tcGFueScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIFx0XHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgIFx0XHRcdFx0XHQkcGFydG5lcnMuc2hvdygpO1xyXG4gICAgXHRcdFx0XHR9XHJcbiAgICBcdFx0XHRcdGlmICgkcGFydG5lcnNMaXN0LmNoaWxkcmVuKCdsaScpLmxlbmd0aCkge1xyXG4gICAgXHRcdFx0XHRcdCRwYXJ0bmVyc0xpc3QuZW1wdHkoKTtcclxuICAgIFx0XHRcdFx0XHQkcGFydG5lcnMuc2hvdygpO1xyXG4gICAgXHRcdFx0XHR9XHJcblxyXG4gICAgXHRcdFx0XHRcclxuICAgIFx0XHRcdFx0Ly8g0KHQvtGA0YLQuNGA0L7QstC60LAg0LjQt9C90LDRh9Cw0LvRjNC90LDRj1xyXG4gICAgXHRcdFx0XHRzb3J0QnkgPSAkKCcjcGFydG5lcnMgLnNvcnRlZCcpLmF0dHIoJ3NvcnRpbmcnKTtcclxuICAgIFx0XHRcdFx0c29ydFdoYXQgPSAkKCcjcGFydG5lcnMgLnNvcnRlZCcpLmF0dHIoJ2lkJyk7XHJcbiAgICBcdFx0XHRcdC8vINCh0L7RgNGC0LjRgNC+0LLQutCwINC40LfQvdCw0YfQsNC70YzQvdCw0Y9cclxuICAgIFx0XHRcdFx0dmFyIGN1cnJlbnRTb3J0TWV0aG9kO1xyXG4gICAgXHRcdFx0XHRcclxuICAgIFx0XHRcdFx0YXBwZW5kUGFydG5lcnMoY29tcGFueVBhcnRuZXJzLCBzb3J0QnksIHNvcnRXaGF0KTtcclxuICAgIFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdCQoJyNwZXJjZW50YWdlU29ydCcpLm9mZignY2xpY2snKTtcclxuICAgIFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdCQoJyNwZXJjZW50YWdlU29ydCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgXHRcdFx0XHRcdHNvcnRXaGF0ID0gJ3BlcmNlbnRhZ2Utc29ydCc7XHJcbiAgICBcdFx0XHRcdFx0Y3VycmVudFNvcnRNZXRob2QgPSAkKHRoaXMpLmF0dHIoJ3NvcnRpbmcnKTtcclxuICAgIFx0XHRcdFx0XHQkKCcjcGFydG5lcnMtbGlzdCcpLmVtcHR5KCk7XHJcbiAgICBcdFx0XHRcdFx0JCgnI25hbWVTb3J0JykucmVtb3ZlQXR0cignc29ydGluZycpLnJlbW92ZUNsYXNzKCdzb3J0ZWQgZGVzY3NvcnQgYXNjc29ydCcpO1xyXG5cdFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdFx0aWYgKCBjdXJyZW50U29ydE1ldGhvZCA9PSAnREVTQycgKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRzb3J0QnkgPSAnQVNDJztcclxuICAgIFx0XHRcdFx0XHRcdCQodGhpcykuYXR0cignc29ydGluZycsICdBU0MnKTtcclxuICAgIFx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2Rlc2Nzb3J0JykuYWRkQ2xhc3MoJ2FzY3NvcnQgc29ydGVkJyk7XHJcbiAgICBcdFx0XHRcdFx0fSBlbHNlIGlmIChjdXJyZW50U29ydE1ldGhvZCA9PSB1bmRlZmluZWQgJiYgISQodGhpcykuaGFzQ2xhc3MoJ3NvcnRlZCcpKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRzb3J0QnkgPSAnREVTQyc7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoJ3NvcnRpbmcnLCdERVNDJykuYWRkQ2xhc3MoJ2Rlc2Nzb3J0IHNvcnRlZCcpO1xyXG4gICAgXHRcdFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdFx0fSBlbHNlIHtcclxuICAgIFx0XHRcdFx0XHRcdHNvcnRCeSA9ICdERVNDJztcclxuICAgIFx0XHRcdFx0XHRcdCQodGhpcykuYXR0cignc29ydGluZycsICdERVNDJyk7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdhc2Nzb3J0JykuYWRkQ2xhc3MoJ2Rlc2Nzb3J0IHNvcnRlZCcpO1xyXG4gICAgXHRcdFx0XHRcdH1cclxuXHJcbiAgICBcdFx0XHRcdFx0YXBwZW5kUGFydG5lcnMoY29tcGFueVBhcnRuZXJzLCBzb3J0QnksIHNvcnRXaGF0KTtcclxuICAgIFx0XHRcdFx0fSk7XHJcblxyXG4gICAgXHRcdFx0XHRcclxuICAgIFx0XHRcdFx0JCgnI25hbWVTb3J0Jykub2ZmKCdjbGljaycpO1xyXG4gICAgXHRcdFx0XHQkKCcjbmFtZVNvcnQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIFx0XHRcdFx0XHRzb3J0V2hhdCA9ICduYW1lLXNvcnQnO1xyXG4gICAgXHRcdFx0XHRcdGN1cnJlbnRTb3J0TWV0aG9kID0gJCh0aGlzKS5hdHRyKCdzb3J0aW5nJyk7XHJcbiAgICBcdFx0XHRcdFx0JCgnI3BhcnRuZXJzLWxpc3QnKS5lbXB0eSgpO1xyXG4gICAgXHRcdFx0XHRcdCQoJyNwZXJjZW50YWdlU29ydCcpLnJlbW92ZUF0dHIoJ3NvcnRpbmcnKS5yZW1vdmVDbGFzcygnc29ydGVkIGRlc2Nzb3J0IGFzY3NvcnQnKTtcclxuXHJcbiAgICBcdFx0XHRcdFx0aWYgKCBjdXJyZW50U29ydE1ldGhvZCA9PSAnREVTQycgKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRzb3J0QnkgPSAnQVNDJztcclxuICAgIFx0XHRcdFx0XHRcdCQodGhpcykuYXR0cignc29ydGluZycsICdBU0MnKTtcclxuICAgIFx0XHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2Rlc2Nzb3J0JykuYWRkQ2xhc3MoJ2FzY3NvcnQgc29ydGVkJyk7XHJcbiAgICBcdFx0XHRcdFx0fSBlbHNlIGlmIChjdXJyZW50U29ydE1ldGhvZCA9PSB1bmRlZmluZWQgJiYgISQodGhpcykuaGFzQ2xhc3MoJ3NvcnRlZCcpKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRzb3J0QnkgPSAnREVTQyc7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoJ3NvcnRpbmcnLCdERVNDJykuYWRkQ2xhc3MoJ2Rlc2Nzb3J0IHNvcnRlZCcpO1xyXG4gICAgXHRcdFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdFx0fSBlbHNlIHtcclxuICAgIFx0XHRcdFx0XHRcdHNvcnRCeSA9ICdERVNDJztcclxuICAgIFx0XHRcdFx0XHRcdCQodGhpcykuYXR0cignc29ydGluZycsICdERVNDJyk7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdhc2Nzb3J0JykuYWRkQ2xhc3MoJ2Rlc2Nzb3J0IHNvcnRlZCcpO1xyXG4gICAgXHRcdFx0XHRcdH1cclxuICAgIFx0XHRcdFx0XHRhcHBlbmRQYXJ0bmVycyhjb21wYW55UGFydG5lcnMsIHNvcnRCeSwgc29ydFdoYXQpO1xyXG4gICAgXHRcdFx0XHR9KTtcclxuXHJcbiAgICBcdFx0XHR9KTtcclxuICAgIFx0XHRcdFxyXG4gICAgXHRcdFx0ZnVuY3Rpb24gYXBwZW5kUGFydG5lcnMocGFydG5lcnMsIHNvcnRCeSwgc29ydFdoYXQpIHtcclxuICAgIFx0XHRcdFx0cGFydG5lcnMgPSBzb3J0aW5nKHNvcnRCeSxzb3J0V2hhdCk7XHJcbiAgICBcdFx0XHRcdHZhciBwYXJ0bmVyc0FycmF5ID0gW107XHJcbiAgICBcdFx0XHRcdGZvciAodmFyIGkgPSBwYXJ0bmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgXHRcdFx0XHRcdHBhcnRuZXJzQXJyYXkgKz0gJzxsaT48ZGl2IGNsYXNzPVwidmFsdWVcIj48cD4nK3BhcnRuZXJzW2ldLnZhbHVlKyc8L3A+PC9kaXY+PGRpdiBjbGFzcz1cIm5hbWVcIj48cD4nK3BhcnRuZXJzW2ldLm5hbWUrJzwvcD48L2Rpdj48L2xpPic7XHJcbiAgICBcdFx0XHRcdH1cclxuXHJcbiAgICBcdFx0XHRcdCQoJyNwYXJ0bmVycy1saXN0JykucHJlcGVuZChwYXJ0bmVyc0FycmF5KTtcclxuICAgIFx0XHRcdFx0cmV0dXJuIHBhcnRuZXJzQXJyYXk7XHJcbiAgICBcdFx0XHR9XHJcblxyXG4gICAgXHRcdFx0ZnVuY3Rpb24gc29ydGluZyhzb3J0Qnksc29ydFdoYXQpIHtcclxuICAgIFx0XHRcdFx0aWYgKHNvcnRCeSA9PSAnREVTQycpIHtcclxuICAgIFx0XHRcdFx0XHRzb3J0aW5nTnVtMSA9IDE7XHJcbiAgICBcdFx0XHRcdFx0c29ydGluZ051bTIgPSAtMTtcclxuICAgIFx0XHRcdFx0fSBlbHNlIHtcclxuICAgIFx0XHRcdFx0XHRzb3J0aW5nTnVtMSA9IC0xO1xyXG4gICAgXHRcdFx0XHRcdHNvcnRpbmdOdW0yID0gMTtcclxuICAgIFx0XHRcdFx0fVxyXG4gICAgXHRcdFx0XHRpZiAoc29ydFdoYXQgPT0gJ3BlcmNlbnRhZ2Utc29ydCcpIHtcclxuICAgIFx0XHRcdFx0XHRjb21wYW55UGFydG5lcnMuc29ydChmdW5jdGlvbihhLGIpIHtcclxuICAgIFx0XHRcdFx0XHRcdGlmIChhLnZhbHVlID4gYi52YWx1ZSkge1xyXG4gICAgXHRcdFx0XHRcdFx0XHRyZXR1cm4gc29ydGluZ051bTE7XHJcbiAgICBcdFx0XHRcdFx0XHR9XHJcbiAgICBcdFx0XHRcdFx0XHRpZiAoYS52YWx1ZSA8IGIudmFsdWUpIHtcclxuICAgIFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNvcnRpbmdOdW0yO1xyXG4gICAgXHRcdFx0XHRcdFx0fVxyXG4gICAgXHRcdFx0XHRcdH0pO1xyXG4gICAgXHRcdFx0XHR9IGVsc2UgaWYgKHNvcnRXaGF0ID09ICduYW1lLXNvcnQnKSB7XHJcbiAgICBcdFx0XHRcdFx0Y29tcGFueVBhcnRuZXJzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRpZiAoYS5uYW1lID4gYi5uYW1lKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRcdHJldHVybiBzb3J0aW5nTnVtMTtcclxuICAgIFx0XHRcdFx0XHRcdH1cclxuICAgIFx0XHRcdFx0XHRcdGlmIChhLm5hbWUgPCBiLm5hbWUpIHtcclxuICAgIFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNvcnRpbmdOdW0yO1xyXG4gICAgXHRcdFx0XHRcdFx0fVxyXG4gICAgXHRcdFx0XHRcdH0pO1xyXG4gICAgXHRcdFx0XHR9XHJcbiAgICBcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHRyZXR1cm4gY29tcGFueVBhcnRuZXJzO1xyXG4gICAgXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblxyXG5cdFx0XHQvLyDQutC+0L3QtdGGINCy0YvQstC+0LTQsCDQv9Cw0YDRgtC90LXRgNC+0LIg0LrQvtC80L/QsNC90LjQuFxyXG5cdFx0XHQvLyDQstGL0LLQvtC0INC60L7QvNC/0LDQvdC40LkgRU5EXHJcblxyXG5cdFx0XHQvLyBsb2NhdGlvblxyXG5cdFx0XHR2YXIgY291bnRyeUFyciA9IHt9O1xyXG5cclxuXHRcdFx0Zm9yICh2YXIgaSA9IGRhdGEubGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdGlmIChjb3VudHJ5QXJyW2RhdGEubGlzdFtpXS5sb2NhdGlvbi5uYW1lXSE9dW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHRjb3VudHJ5QXJyW2RhdGEubGlzdFtpXS5sb2NhdGlvbi5uYW1lXSsrXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvdW50cnlBcnJbZGF0YS5saXN0W2ldLmxvY2F0aW9uLm5hbWVdPTFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblxyXG5cdFx0XHR2YXIgY2hhcnREYXRhID0gW10sXHJcblx0XHRcdFx0Y2hhcnRMYWJlbHMgPSBbXTtcclxuXHRcdFx0Zm9yICh2YXIga2V5IGluIGNvdW50cnlBcnIpIHtcclxuXHJcblx0XHRcdCAgICBjaGFydERhdGEucHVzaChjb3VudHJ5QXJyW2tleV0gKiAxMDAgLyBkYXRhLmxpc3QubGVuZ3RoKTtcclxuXHRcdFx0ICAgIGNoYXJ0TGFiZWxzLnB1c2goa2V5KTtcdFx0XHQgICAgXHJcblx0XHRcdH1cclxuXHRcdFx0Ly8g0JTQuNCw0LPRgNCw0LzQvNCwXHJcblx0XHRcdGNoYXJ0KGNoYXJ0RGF0YSwgY2hhcnRMYWJlbHMpO1xyXG5cdFx0XHRmdW5jdGlvbiBjaGFydChjaGFydERhdGEsIGNoYXJ0TGFiZWxzKSB7XHJcblx0XHRcdFx0dmFyIGN0eCA9ICQoXCIjbXlDaGFydFwiKSxcclxuXHRcdFx0XHRcdGNoYXJ0Q29sb3JzID0gW107XHJcblxyXG5cdFx0XHRcdGZvciAodmFyIGkgPSBjaGFydERhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0XHRcdGNoYXJ0Q29sb3JzLnB1c2goUmFuZG9tQ29sb3IoKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdCQoJyNteUNoYXJ0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0dmFyIGl0ZW0gPSBteVBpZUNoYXJ0LmdldEVsZW1lbnRBdEV2ZW50KGUpWzBdLFxyXG5cdFx0XHRcdFx0XHRjb3VudHJ5ID0gaXRlbS5fbW9kZWwubGFiZWwsXHJcblx0XHRcdFx0XHRcdGxpc3QgPSBkYXRhLmxpc3QsXHJcblx0XHRcdFx0XHRcdGNvbXBhbnkgPSAnJztcclxuXHRcdFx0XHRcdGZvciAodmFyIGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0XHRcdGlmIChsaXN0W2ldLmxvY2F0aW9uLm5hbWUgPT0gY291bnRyeSkge1xyXG5cdFx0XHRcdFx0XHRcdGNvbXBhbnkgKz0gJzxsaT4nK2xpc3RbaV0ubmFtZSsnPC9saT4nO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQkKCcjbXlDaGFydCcpLmhpZGUoKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoICQoJyNjb21wYW55TG9jIC5jb3VudHJ5TGlzdFdyYXAnKS5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRcdCQoJyNjb21wYW55TG9jIC5jb3VudHJ5TGlzdFdyYXAgaDQnKS5lbXB0eSgpLmFwcGVuZChjb3VudHJ5ICsgJzonKTtcclxuXHRcdFx0XHRcdFx0JCgnI2NvbXBhbnlMb2MgLmNvdW50cnlMaXN0V3JhcCwgI2JhY2tCdG4nKS5zaG93KCk7XHJcblx0XHRcdFx0XHRcdCQoJyNjb21wYW55TG9jIC5jb3VudHJ5TGlzdCcpLmVtcHR5KCkuYXBwZW5kKGNvbXBhbnkpO1xyXG5cdFx0XHRcdFx0XHQkKCcjY29tcGFueUxvYyAuY291bnRyeUxpc3QnKS5zY3JvbGxUb3AoMCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHQkKCcjY29tcGFueUxvYycpLmFwcGVuZCgnPGRpdiBjbGFzcz1cImNvdW50cnlMaXN0V3JhcFwiPjxoND4nK2NvdW50cnkrJzo8L2g0Pjx1bCBjbGFzcz1cImNvdW50cnlMaXN0XCI+Jytjb21wYW55Kyc8L3VsPjwvZGl2PicpO1xyXG5cdFx0XHRcdFx0XHQkKCcjY29tcGFueUxvYycpLnBhcmVudCgnLml0ZW1XcmFwJykuYXBwZW5kKCc8YSBocmVmPVwiI1wiIGlkPVwiYmFja0J0blwiPjwvYT4nKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0JCgnI2JhY2tCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdCQoJyNjb21wYW55TG9jIC5jb3VudHJ5TGlzdFdyYXAsICNiYWNrQnRuJykuaGlkZSgpO1xyXG5cdFx0XHRcdFx0XHQkKCcjbXlDaGFydCcpLnNob3coKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHZhciBteVBpZUNoYXJ0ID0gbmV3IENoYXJ0KGN0eCx7XHJcblx0XHRcdFx0ICAgIHR5cGU6ICdwaWUnLFxyXG5cdFx0XHQgICAgICAgIGRhdGE6IHtcclxuXHRcdFx0ICAgICAgICAgICAgZGF0YXNldHM6IFt7XHJcblx0XHRcdCAgICAgICAgICAgICAgICBkYXRhOiBjaGFydERhdGEsXHJcblx0XHRcdCAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNoYXJ0Q29sb3JzLFxyXG5cdFx0XHQgICAgICAgICAgICB9XSxcclxuXHRcdFx0ICAgICAgICAgICAgbGFiZWxzOiBjaGFydExhYmVsc1xyXG5cdFx0XHQgICAgICAgIH0sXHJcblx0XHRcdCAgICAgICAgb3B0aW9uczoge1xyXG5cdFx0XHQgICAgICAgIFx0bGF5b3V0OiB7XHJcblx0XHRcdFx0ICAgICAgICAgICBwYWRkaW5nOiB7XHJcblx0XHRcdFx0ICAgICAgICAgICAgICAgbGVmdDogMCxcclxuXHRcdFx0XHQgICAgICAgICAgICAgICByaWdodDogMCxcclxuXHRcdFx0XHQgICAgICAgICAgICAgICB0b3A6IDI1LFxyXG5cdFx0XHRcdCAgICAgICAgICAgICAgIGJvdHRvbTogMFxyXG5cdFx0XHRcdCAgICAgICAgICAgfVxyXG5cdFx0XHRcdCAgICAgICBcdH0sXHJcblx0XHRcdCAgICAgICAgXHR0b29sdGlwczoge1xyXG5cdFx0XHQgICAgICAgIFx0ICAgIGludGVyc2VjdDogdHJ1ZSxcclxuXHRcdFx0ICAgICAgICBcdCAgICBlbmFibGVkOiB0cnVlLFxyXG5cdFx0XHQgICAgICAgIFx0ICAgIGRpc3BsYXlDb2xvcnM6IHRydWUsXHJcblx0XHRcdCAgICAgICAgXHQgICAgYm9keUZvbnRDb2xvcjogJyNmZmYnLFxyXG5cdFx0XHQgICAgICAgIFx0fSxcclxuXHRcdFx0ICAgICAgICBcdGxlZ2VuZDoge1xyXG5cdFx0XHQgICAgICAgIFx0ICAgIGRpc3BsYXk6IGZhbHNlLCAgICAgIFx0ICAgIFxyXG5cdFx0XHQgICAgICAgIFx0fSxcclxuXHRcdFx0ICAgICAgICB9XHRcdFx0XHRcdCAgICAgICAgXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZnVuY3Rpb24gUmFuZG9tQ29sb3IoKSB7XHJcblx0XHRcdFx0XHR2YXIgbWF4ID0gMTUwLFxyXG5cdFx0XHRcdFx0bWluID0gMTA7XHJcblx0XHRcdFx0XHR2YXIgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyNTYpKTtcclxuXHRcdFx0XHRcdHZhciBnID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDI1NikpO1xyXG5cdFx0XHRcdFx0dmFyIGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjU2KSk7XHJcblx0XHRcdFx0XHR2YXIgbyA9IChNYXRoLnJhbmRvbSgpICogMSk7XHJcblx0XHRcdFx0XHR2YXIgYyA9ICdyZ2JhKCcgKyByICsgJywgJyArIGcgKyAnLCAnICsgYiArICcsIDEpJztcclxuXHRcdFx0XHRcdHJldHVybiBjO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8g0JTQuNCw0LPRgNCw0LzQvNCwIEVORFxyXG5cdFx0XHRcclxuXHJcblx0XHRcdC8vIGxvY2F0aW9uIEVORFxyXG4gICAgXHR9XHJcbiAgICBcdC8vIGNvbXBhbnkgZnVuYyBFTkRcclxuXHJcblx0fSkoKTtcclxuXHQvLyBjb21wYW55LXBhZ2UgRU5EXHJcbn0pOyJdfQ==
