$(document).ready(function(){"use strict";!function(){var t=$("#formReg");0!==t.length&&($.validator.addMethod("valueNotEquals",function(t,e,a){return a!==t},"Value must not equal arg."),t.validate({rules:{name:{required:!0,minlength:3,maxlength:60},secondname:{required:!0,minlength:3,maxlength:60},email:{required:!0,email:!0},pass:{required:!0,minlength:6,maxlength:16},gender:{valueNotEquals:"default"}},messages:{name:{required:"Username is required.",minlength:"Username should contain min 4 letters.",maxlength:"Username should contain max 60 letters."},secondname:{required:"Secondname is required.",minlength:"Secondname should contain min 4 letters.",maxlength:"Secondname should contain max 60 letters."},email:{required:"Email is required.",email:"Email is not valid."},pass:{required:"Password is required.",minlength:"Password should contain min 6 letters.",maxlength:"Password should contain max 16 letters."},gender:{valueNotEquals:"Gender is required."}},submitHandler:function(e){var a=t,r=new FormData(t[0]);$.ajax({url:"http://codeit.pro/frontTestTask/user/registration",data:r,contentType:!1,processData:!1,datatype:"html",success:function(t){a[0].reset(),"Error"==t.status?alert(t.message):"Form Error"==t.status?alert(t.message):"User created"==t.message&&"OK"==t.status&&(window.location.href="company.php")},error:function(t){var e=t.statusText;"error"!=e?alert("Ошибка: "+e):alert("Неизвестная ошибка.")}})}}))}(),function(){function t(t){for(var e,a,r,s,n="",o="",i=(t=t.list).length-1;i>=0;i--)a=(e=new Date(1e3*t[i].date)).getDate(),r=e.getMonth(),s=t[i].description,String(a).length<2&&(a="0"+e.getDate()),String(r).length<2&&(r="0"+e.getMonth()),n=a+"."+r+"."+e.getFullYear(),s.length>200&&((s=(s=s.substr(0,200)).split(" ")).splice(s.length-1,1),s=s.join(" "),s+="..."),o+='<div><div class="article"><div class="article__top-block"><div class="img"><img src="'+t[i].img+'" alt="'+t[i].author+'"></div><div class="text"><h4><a href="https://'+t[i].link+'">'+t[i].author+"(title)</a></h4><p>"+s+'</p></div></div><div class="article__bottom-block"><p><b>Author:</b> '+t[i].author+"</p><p><b>Public:</b> "+n+"</p></div></div></div>";$("#owl-slider").prepend(o),$(".owl-carousel").owlCarousel({items:1,margin:30,nav:!1,loop:!0,dots:!0})}function e(t){function e(t,e,r){for(var s=[],n=(t=a(e,r)).length-1;n>=0;n--)s+='<li><div class="value"><p>'+t[n].value+'</p></div><div class="name"><p>'+t[n].name+"</p></div></li>";return $("#partners-list").prepend(s),s}function a(t,e){return"DESC"==t?(p=1,m=-1):(p=-1,m=1),"percentage-sort"==e?l.sort(function(t,e){return t.value>e.value?p:t.value<e.value?m:void 0}):"name-sort"==e&&l.sort(function(t,e){return t.name>e.name?p:t.name<e.name?m:void 0}),l}$(".preloader").remove();var r=$("#companyList");$("#totalCompanies").prepend('<div class="circleCompany"><p> '+t.list.length+" </p></div>  "),r.append("<ul></ul>");for(h=t.list.length-1;h>=0;h--)r.children("ul").prepend('<li><a href="#" class="company" data-company="'+h+'">'+t.list[h].name+"</a></li>");var s,n,o,i,l,d,c,p,m;$(".company").on("click",function(a){if(a.preventDefault(),s=$(this).parents(".item"),i=$(this).data("company"),l=t.list[i].partners,n=$("#partners"),o=$("#partners-list"),$(this).hasClass("active"))return $(this).removeClass("active"),o.empty(),void n.hide();if(!n.length){s.after('<div id="partners"><div class="list-outer"><div class="topBlock"><h3>Company partners</h3><div class="sorting"><p><b>Sort by:</b> <a href="#" id="nameSort" class="sorting-btn">Name</a> <a href="#" id="percentageSort" class="sorting-btn sorted descsort" sorting="DESC">Percentage</a></p></div></div><div class="list-wrap"><ul id="partners-list"></ul></div></div></div>')}$(".company").removeClass("active"),$(this).addClass("active"),n.show(),o.children("li").length&&(o.empty(),n.show()),d=$("#partners .sorted").attr("sorting"),c=$("#partners .sorted").attr("id");var r;e(l,d,c),$("#percentageSort").off("click"),$("#percentageSort").on("click",function(t){t.preventDefault(),c="percentage-sort",r=$(this).attr("sorting"),$("#partners-list").empty(),$("#nameSort").removeAttr("sorting").removeClass("sorted descsort ascsort"),"DESC"==r?(d="ASC",$(this).attr("sorting","ASC"),$(this).removeClass("descsort").addClass("ascsort sorted")):void 0!=r||$(this).hasClass("sorted")?(d="DESC",$(this).attr("sorting","DESC"),$(this).removeClass("ascsort").addClass("descsort sorted")):(d="DESC",$(this).attr("sorting","DESC").addClass("descsort sorted")),e(l,d,c)}),$("#nameSort").off("click"),$("#nameSort").on("click",function(t){t.preventDefault(),c="name-sort",r=$(this).attr("sorting"),$("#partners-list").empty(),$("#percentageSort").removeAttr("sorting").removeClass("sorted descsort ascsort"),"DESC"==r?(d="ASC",$(this).attr("sorting","ASC"),$(this).removeClass("descsort").addClass("ascsort sorted")):void 0!=r||$(this).hasClass("sorted")?(d="DESC",$(this).attr("sorting","DESC"),$(this).removeClass("ascsort").addClass("descsort sorted")):(d="DESC",$(this).attr("sorting","DESC").addClass("descsort sorted")),e(l,d,c)})});for(var u={},h=t.list.length-1;h>=0;h--)void 0!=u[t.list[h].location.name]?u[t.list[h].location.name]++:u[t.list[h].location.name]=1;var v=[],g=[];for(var f in u)v.push(100*u[f]/t.list.length),g.push(f);!function(e,a){for(var r=$("#myChart"),s=[],n=e.length-1;n>=0;n--)s.push(function(){var t=Math.floor(256*Math.random()),e=Math.floor(256*Math.random()),a=Math.floor(256*Math.random());return Math.random(),"rgba("+t+", "+e+", "+a+", 1)"}());$("#myChart").on("click",function(e){for(var a=o.getElementAtEvent(e)[0]._model.label,r=t.list,s="",n=r.length-1;n>=0;n--)r[n].location.name==a&&(s+="<li>"+r[n].name+"</li>");$("#myChart").hide(),$("#companyLoc .countryList").length?($("#companyLoc .countryList, #backBtn").show(),$("#companyLoc .countryList").empty().append(s)):($("#companyLoc").append('<ul class="countryList">'+s+"</ul>"),$("#companyLoc").parent(".itemWrap").append('<a href="#" id="backBtn"></a>')),$("#backBtn").on("click",function(){$("#companyLoc .countryList, #backBtn").hide(),$("#myChart").show()})});var o=new Chart(r,{type:"pie",data:{datasets:[{data:e,backgroundColor:s}],labels:a},options:{layout:{padding:{left:0,right:0,top:25,bottom:0}},tooltips:{intersect:!0,enabled:!0,displayColors:!0,bodyFontColor:"#fff"},legend:{display:!1}}})}(v,g)}if(0!==$("#companiesWrap").length){var a='<div class="preloader"><img src="img/preloader.gif" alt="" /></div>';$.ajax({url:"http://codeit.pro/frontTestTask/company/getList",contentType:!1,processData:!1,datatype:"html",beforeSend:function(){$(".companyContent").prepend(a)},success:function(t){"OK"==t.status&&e(t)},error:function(t){var e=t.statusText;"error"!=e?alert("Ошибка: "+e):alert("Неизвестная ошибка.")}}),$.ajax({url:"http://codeit.pro/frontTestTask/news/getList",contentType:!1,processData:!1,datatype:"html",beforeSend:function(){$("#news").prepend(a)},success:function(e){"OK"==e.status&&t(e)},error:function(t){var e=t.statusText;"error"!=e?alert("Ошибка: "+e):alert("Неизвестная ошибка.")}})}}()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiJCIsImRvY3VtZW50IiwicmVhZHkiLCIkZm9ybVJlZyIsImxlbmd0aCIsInZhbGlkYXRvciIsImFkZE1ldGhvZCIsInZhbHVlIiwiZWxlbWVudCIsImFyZyIsInZhbGlkYXRlIiwicnVsZXMiLCJuYW1lIiwicmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtYXhsZW5ndGgiLCJzZWNvbmRuYW1lIiwiZW1haWwiLCJwYXNzIiwiZ2VuZGVyIiwidmFsdWVOb3RFcXVhbHMiLCJtZXNzYWdlcyIsInN1Ym1pdEhhbmRsZXIiLCJmb3JtIiwiZm9ybV90eXBlX2EiLCJkYXRhIiwiRm9ybURhdGEiLCJhamF4IiwidXJsIiwiY29udGVudFR5cGUiLCJwcm9jZXNzRGF0YSIsImRhdGF0eXBlIiwic3VjY2VzcyIsInJlc2V0Iiwic3RhdHVzIiwiYWxlcnQiLCJtZXNzYWdlIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiZXJyb3IiLCJlcnJvck1zZyIsInN0YXR1c1RleHQiLCJzaG93TmV3cyIsImRhdGUiLCJkYXkiLCJtb250aCIsImRlc2NyaXB0aW9uIiwiYXJ0aWNsZURhdGUiLCJhcnRpY2xlTGlzdCIsImkiLCJsaXN0IiwiRGF0ZSIsImdldERhdGUiLCJnZXRNb250aCIsIlN0cmluZyIsImdldEZ1bGxZZWFyIiwic3Vic3RyIiwic3BsaXQiLCJzcGxpY2UiLCJqb2luIiwiaW1nIiwiYXV0aG9yIiwibGluayIsInByZXBlbmQiLCJvd2xDYXJvdXNlbCIsIml0ZW1zIiwibWFyZ2luIiwibmF2IiwibG9vcCIsImRvdHMiLCJjb21wYW55TGlzdCIsImFwcGVuZFBhcnRuZXJzIiwicGFydG5lcnMiLCJzb3J0QnkiLCJzb3J0V2hhdCIsInBhcnRuZXJzQXJyYXkiLCJzb3J0aW5nIiwic29ydGluZ051bTEiLCJzb3J0aW5nTnVtMiIsImNvbXBhbnlQYXJ0bmVycyIsInNvcnQiLCJhIiwiYiIsInJlbW92ZSIsIiRjb21wYW55TGlzdCIsImFwcGVuZCIsImNoaWxkcmVuIiwiJHBhcmVudCIsIiRwYXJ0bmVycyIsIiRwYXJ0bmVyc0xpc3QiLCJjb21wYW55TnVtYmVyIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJ0aGlzIiwicGFyZW50cyIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJlbXB0eSIsImhpZGUiLCJhZnRlciIsImFkZENsYXNzIiwic2hvdyIsImF0dHIiLCJjdXJyZW50U29ydE1ldGhvZCIsIm9mZiIsInJlbW92ZUF0dHIiLCJ1bmRlZmluZWQiLCJjb3VudHJ5QXJyIiwiY2hhcnREYXRhIiwiY2hhcnRMYWJlbHMiLCJrZXkiLCJwdXNoIiwiY3R4IiwiY2hhcnRDb2xvcnMiLCJyIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZyIsIlJhbmRvbUNvbG9yIiwiY291bnRyeSIsIm15UGllQ2hhcnQiLCJnZXRFbGVtZW50QXRFdmVudCIsIl9tb2RlbCIsImxhYmVsIiwiY29tcGFueSIsInBhcmVudCIsIkNoYXJ0IiwidHlwZSIsImRhdGFzZXRzIiwiYmFja2dyb3VuZENvbG9yIiwibGFiZWxzIiwib3B0aW9ucyIsImxheW91dCIsInBhZGRpbmciLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJ0b29sdGlwcyIsImludGVyc2VjdCIsImVuYWJsZWQiLCJkaXNwbGF5Q29sb3JzIiwiYm9keUZvbnRDb2xvciIsImxlZ2VuZCIsImRpc3BsYXkiLCJjaGFydCIsInByZWxvYWRlciIsImJlZm9yZVNlbmQiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBQ2pCLGNBRUEsV0FDQyxJQUFJQyxFQUFXSCxFQUFFLFlBQ08sSUFBcEJHLEVBQVNDLFNBQ2JKLEVBQUVLLFVBQVVDLFVBQVUsaUJBQWtCLFNBQVNDLEVBQU9DLEVBQVNDLEdBQ2hFLE9BQU9BLElBQVFGLEdBQ2IsNkJBQ0hKLEVBQVNPLFVBQ1JDLE9BQ0NDLE1BQ0NDLFVBQVUsRUFDRUMsVUFBVyxFQUNYQyxVQUFXLElBRXhCQyxZQUNDSCxVQUFV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ZkEsRUFBS1MsUUFDUnFDLEVBQVk5QyxJQUdkZSxNQUFPLFNBQVVmLEdBQ2hCLElBQUlnQixFQUFXaEIsRUFBS2lCLFdBQ0osU0FBWkQsRUFDSE4sTUFBTSxXQUFXTSxHQUVqQk4sTUFBTSwwQkFJVG5DLEVBQUUyQixNQUNEQyxJQUFLLCtDQUNMQyxhQUFhLEVBQ2JDLGFBQWEsRUFDYkMsU0FBVSxPQUNWdUgsV0FBWSxXQUNYdEosRUFBRSxTQUFTZ0UsUUFBUXFGLElBRXBCckgsUUFBUyxTQUFVUCxHQUNDLE1BQWZBLEVBQUtTLFFBQ1JTLEVBQVNsQixJQUdYZSxNQUFPLFNBQVVmLEdBQ2hCLElBQUlnQixFQUFXaEIsRUFBS2lCLFdBQ0osU0FBWkQsRUFDSE4sTUFBTSxXQUFXTSxHQUVqQk4sTUFBTSwyQkEzQ1YiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHQvLyBmb3JtLXBhZ2VcclxuXHQoZnVuY3Rpb24gKCkge1xyXG5cdFx0dmFyICRmb3JtUmVnID0gJCgnI2Zvcm1SZWcnKTtcclxuXHRcdGlmICgkZm9ybVJlZy5sZW5ndGggPT09IDApIHtyZXR1cm47fTsgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC10YHRgtGMINC70Lgg0YLQsNC60L7QuSDRjdC7LiDQvdCwINGB0YLRgNCw0L3QuNGG0LVcclxuXHRcdCQudmFsaWRhdG9yLmFkZE1ldGhvZChcInZhbHVlTm90RXF1YWxzXCIsIGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50LCBhcmcpe1xyXG5cdFx0XHRyZXR1cm4gYXJnICE9PSB2YWx1ZTtcclxuXHRcdH0sIFwiVmFsdWUgbXVzdCBub3QgZXF1YWwgYXJnLlwiKTsgLy8g0LTQvtCx0LDQstC70Y/QtdC8INC/0YDQsNCy0LjQu9C+INCy0LDQu9C40LTQsNGG0LjQuFxyXG5cdFx0JGZvcm1SZWcudmFsaWRhdGUoe1xyXG5cdFx0XHRydWxlczoge1xyXG5cdFx0XHRcdG5hbWU6IHtcclxuXHRcdFx0XHRcdHJlcXVpcmVkOiB0cnVlLFxyXG5cdCAgICAgICAgICAgICAgICBtaW5sZW5ndGg6IDMsXHJcblx0ICAgICAgICAgICAgICAgIG1heGxlbmd0aDogNjAsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRzZWNvbmRuYW1lOiB7XHJcblx0XHRcdFx0XHRyZXF1aXJlZDogdHJ1ZSxcclxuXHQgICAgICAgICAgICAgICAgbWlubGVuZ3RoOiAzLFxyXG5cdCAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDYwLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0ZW1haWw6IHtcclxuXHRcdFx0XHQgIHJlcXVpcmVkOiB0cnVlLFxyXG5cdFx0XHRcdCAgZW1haWw6IHRydWUsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRwYXNzOiB7XHJcblx0XHRcdFx0XHRyZXF1aXJlZDogdHJ1ZSxcclxuXHQgICAgICAgICAgICAgICAgbWlubGVuZ3RoOiA2LFxyXG5cdCAgICAgICAgICAgICAgICBtYXhsZW5ndGg6IDE2LFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Z2VuZGVyOiB7IHZhbHVlTm90RXF1YWxzOiBcImRlZmF1bHRcIiB9XHRcdFx0XHRcdFx0XHRcdCAgIFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRtZXNzYWdlczoge1xyXG5cdFx0XHRcdG5hbWU6IHtcclxuXHRcdFx0XHRcdHJlcXVpcmVkOiAnVXNlcm5hbWUgaXMgcmVxdWlyZWQuJyxcclxuXHQgICAgICAgICAgICAgICAgbWlubGVuZ3RoOiAnVXNlcm5hbWUgc2hvdWxkIGNvbnRhaW4gbWluIDQgbGV0dGVycy4nLFxyXG5cdCAgICAgICAgICAgICAgICBtYXhsZW5ndGg6ICdVc2VybmFtZSBzaG91bGQgY29udGFpbiBtYXggNjAgbGV0dGVycy4nLFxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0c2Vjb25kbmFtZToge1xyXG5cdFx0XHRcdFx0cmVxdWlyZWQ6ICdTZWNvbmRuYW1lIGlzIHJlcXVpcmVkLicsXHJcblx0ICAgICAgICAgICAgICAgIG1pbmxlbmd0aDogJ1NlY29uZG5hbWUgc2hvdWxkIGNvbnRhaW4gbWluIDQgbGV0dGVycy4nLFxyXG5cdCAgICAgICAgICAgICAgICBtYXhsZW5ndGg6ICdTZWNvbmRuYW1lIHNob3VsZCBjb250YWluIG1heCA2MCBsZXR0ZXJzLicsXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0ICAgIGVtYWlsOiB7XHJcblx0XHRcdCAgICAgIHJlcXVpcmVkOiAnRW1haWwgaXMgcmVxdWlyZWQuJyxcclxuXHRcdFx0ICAgICAgZW1haWw6ICdFbWFpbCBpcyBub3QgdmFsaWQuJ1xyXG5cdFx0XHQgICAgfSxcclxuXHRcdFx0ICAgIHBhc3M6IHtcclxuXHRcdFx0XHRcdHJlcXVpcmVkOiAnUGFzc3dvcmQgaXMgcmVxdWlyZWQuJyxcclxuXHQgICAgICAgICAgICAgICAgbWlubGVuZ3RoOiAnUGFzc3dvcmQgc2hvdWxkIGNvbnRhaW4gbWluIDYgbGV0dGVycy4nLFxyXG5cdCAgICAgICAgICAgICAgICBtYXhsZW5ndGg6ICdQYXNzd29yZCBzaG91bGQgY29udGFpbiBtYXggMTYgbGV0dGVycy4nLFxyXG5cdFx0XHQgICAgfSxcclxuXHRcdFx0ICAgIGdlbmRlcjogeyB2YWx1ZU5vdEVxdWFsczogJ0dlbmRlciBpcyByZXF1aXJlZC4nIH1cclxuXHRcdFx0fSxcclxuXHRcdFx0c3VibWl0SGFuZGxlcjogZnVuY3Rpb24oZm9ybSkge1xyXG5cdFx0XHRcdHZhciBmb3JtX3R5cGVfYSA9ICRmb3JtUmVnO1xyXG5cdFx0XHRcdHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCRmb3JtUmVnWzBdKTtcclxuXHRcdFx0XHQkLmFqYXgoe1xyXG5cdFx0XHRcdFx0dXJsOiBcImh0dHA6Ly9jb2RlaXQucHJvL2Zyb250VGVzdFRhc2svdXNlci9yZWdpc3RyYXRpb25cIixcclxuXHRcdFx0XHRcdGRhdGE6IGRhdGEsXHJcblx0XHRcdFx0XHRjb250ZW50VHlwZTogZmFsc2UsXHJcblx0XHRcdFx0XHRwcm9jZXNzRGF0YTogZmFsc2UsXHJcblx0XHRcdFx0XHRkYXRhdHlwZTogJ2h0bWwnLFxyXG5cdFx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHRcdFx0Zm9ybV90eXBlX2FbMF0ucmVzZXQoKTtcclxuXHRcdFx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzID09ICdFcnJvcicpIHtcclxuXHRcdFx0XHRcdFx0XHRhbGVydChkYXRhLm1lc3NhZ2UpO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYoZGF0YS5zdGF0dXMgPT0gJ0Zvcm0gRXJyb3InKSB7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnQoZGF0YS5tZXNzYWdlKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIGlmIChkYXRhLm1lc3NhZ2UgPT0gJ1VzZXIgY3JlYXRlZCcgJiYgZGF0YS5zdGF0dXMgPT0gJ09LJykge1xyXG5cdFx0XHRcdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJ2NvbXBhbnkucGhwJztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgZXJyb3JNc2cgPSBkYXRhLnN0YXR1c1RleHQ7XHJcblx0XHRcdFx0XHRcdGlmIChlcnJvck1zZyAhPSAnZXJyb3InKSB7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnQoJ9Ce0YjQuNCx0LrQsDogJytlcnJvck1zZysnJyk7XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0YWxlcnQoJ9Cd0LXQuNC30LLQtdGB0YLQvdCw0Y8g0L7RiNC40LHQutCwLicpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0ICAgIFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1x0XHJcblxyXG5cdH0pKCk7XHJcblx0Ly8gZm9ybS1wYWdlIEVORFxyXG5cclxuXHQvLyBjb21wYW55LXBhZ2VcclxuXHQoZnVuY3Rpb24gKCkge1xyXG5cdFx0aWYoJCgnI2NvbXBhbmllc1dyYXAnKS5sZW5ndGggPT09IDApIHtyZXR1cm47fSAvLyDQn9GA0L7QstC10YDRj9C10Lwg0LXRgdGC0Ywg0LvQuCDRgtCw0LrQvtC5INGN0LsuINC90LAg0YHRgtGA0LDQvdC40YbQtVxyXG5cdCAgICB2YXIgcHJlbG9hZGVyID0gJzxkaXYgY2xhc3M9XCJwcmVsb2FkZXJcIj48aW1nIHNyYz1cImltZy9wcmVsb2FkZXIuZ2lmXCIgYWx0PVwiXCIgLz48L2Rpdj4nO1xyXG5cdFx0JC5hamF4KHtcclxuXHRcdFx0dXJsOiBcImh0dHA6Ly9jb2RlaXQucHJvL2Zyb250VGVzdFRhc2svY29tcGFueS9nZXRMaXN0XCIsXHJcblx0XHRcdGNvbnRlbnRUeXBlOiBmYWxzZSxcclxuXHRcdFx0cHJvY2Vzc0RhdGE6IGZhbHNlLFxyXG5cdFx0XHRkYXRhdHlwZTogJ2h0bWwnLFxyXG5cdFx0XHRiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0JCgnLmNvbXBhbnlDb250ZW50JykucHJlcGVuZChwcmVsb2FkZXIpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdGlmIChkYXRhLnN0YXR1cyA9PSAnT0snKSB7XHJcblx0XHRcdFx0XHRjb21wYW55TGlzdChkYXRhKTtcclxuXHRcdFx0XHR9XHRcdFxyXG5cdFx0XHR9LFxyXG5cdFx0XHRlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcclxuXHRcdFx0XHR2YXIgZXJyb3JNc2cgPSBkYXRhLnN0YXR1c1RleHQ7XHJcblx0XHRcdFx0aWYgKGVycm9yTXNnICE9ICdlcnJvcicpIHtcclxuXHRcdFx0XHRcdGFsZXJ0KCfQntGI0LjQsdC60LA6ICcrZXJyb3JNc2crJycpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRhbGVydCgn0J3QtdC40LfQstC10YHRgtC90LDRjyDQvtGI0LjQsdC60LAuJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG4gICAgXHR9KTtcclxuXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogXCJodHRwOi8vY29kZWl0LnByby9mcm9udFRlc3RUYXNrL25ld3MvZ2V0TGlzdFwiLFxyXG5cdFx0XHRjb250ZW50VHlwZTogZmFsc2UsXHJcblx0XHRcdHByb2Nlc3NEYXRhOiBmYWxzZSxcclxuXHRcdFx0ZGF0YXR5cGU6ICdodG1sJyxcclxuXHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRcdCQoJyNuZXdzJykucHJlcGVuZChwcmVsb2FkZXIpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cdFx0XHRcdGlmIChkYXRhLnN0YXR1cyA9PSAnT0snKSB7XHJcblx0XHRcdFx0XHRzaG93TmV3cyhkYXRhKTtcclxuXHRcdFx0XHR9XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0fSxcclxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdFx0dmFyIGVycm9yTXNnID0gZGF0YS5zdGF0dXNUZXh0O1xyXG5cdFx0XHRcdGlmIChlcnJvck1zZyAhPSAnZXJyb3InKSB7XHJcblx0XHRcdFx0XHRhbGVydCgn0J7RiNC40LHQutCwOiAnK2Vycm9yTXNnKycnKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YWxlcnQoJ9Cd0LXQuNC30LLQtdGB0YLQvdCw0Y8g0L7RiNC40LHQutCwLicpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuICAgIFx0fSk7XHJcblx0XHQvLyBuZXdzIGZ1bmNcclxuICAgIFx0ZnVuY3Rpb24gc2hvd05ld3MoZGF0YSkge1xyXG4gICAgXHRcdHZhciBkYXRhID0gZGF0YS5saXN0LFxyXG4gICAgXHRcdFx0ZGF0ZSxcclxuICAgIFx0XHRcdGFydGljbGVEYXRlID0gJycsXHJcbiAgICBcdFx0XHRkYXksXHJcbiAgICBcdFx0XHRtb250aCxcclxuICAgIFx0XHRcdGFydGljbGVMaXN0ID0gJycsXHJcbiAgICBcdFx0XHRkZXNjcmlwdGlvbjtcclxuXHJcbiAgICBcdFx0Zm9yICh2YXIgaSA9IGRhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIFx0XHRcdGRhdGUgPSBuZXcgRGF0ZShkYXRhW2ldLmRhdGUqMTAwMCk7XHJcbiAgICBcdFx0XHRkYXkgPSBkYXRlLmdldERhdGUoKTtcclxuICAgIFx0XHRcdG1vbnRoID0gZGF0ZS5nZXRNb250aCgpO1xyXG4gICAgXHRcdFx0ZGVzY3JpcHRpb24gPSBkYXRhW2ldLmRlc2NyaXB0aW9uO1xyXG4gICAgXHRcdFx0aWYgKFN0cmluZyhkYXkpLmxlbmd0aCA8IDIgKSB7XHJcbiAgICBcdFx0XHRcdGRheSA9ICcwJyArIGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgXHRcdFx0fVxyXG4gICAgXHRcdFx0aWYgKFN0cmluZyhtb250aCkubGVuZ3RoIDwgMiApIHtcclxuICAgIFx0XHRcdFx0bW9udGggPSAnMCcgKyBkYXRlLmdldE1vbnRoKCk7XHJcbiAgICBcdFx0XHR9XHJcbiAgICBcdFx0XHRhcnRpY2xlRGF0ZSA9IGRheSArICcuJyArIG1vbnRoICsgJy4nICsgZGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgXHRcdFx0aWYgKGRlc2NyaXB0aW9uLmxlbmd0aCA+IDIwMCkge1xyXG4gICAgXHRcdFx0XHRcclxuICAgIFx0XHRcdFx0ZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5zdWJzdHIoMCwyMDApO1xyXG4gICAgXHRcdFx0XHRkZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnNwbGl0KCcgJyk7XHJcbiAgICBcdFx0XHRcdGRlc2NyaXB0aW9uLnNwbGljZShkZXNjcmlwdGlvbi5sZW5ndGgtMSwxKTtcclxuICAgIFx0XHRcdFx0ZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi5qb2luKCcgJyk7XHJcbiAgICBcdFx0XHRcdGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gKyAnLi4uJztcclxuICAgIFx0XHRcdH1cclxuICAgIFx0XHRcdGFydGljbGVMaXN0ICs9ICc8ZGl2PjxkaXYgY2xhc3M9XCJhcnRpY2xlXCI+PGRpdiBjbGFzcz1cImFydGljbGVfX3RvcC1ibG9ja1wiPjxkaXYgY2xhc3M9XCJpbWdcIj48aW1nIHNyYz1cIicrZGF0YVtpXS5pbWcrJ1wiIGFsdD1cIicrZGF0YVtpXS5hdXRob3IrJ1wiPjwvZGl2PjxkaXYgY2xhc3M9XCJ0ZXh0XCI+PGg0PjxhIGhyZWY9XCJodHRwczovLycrZGF0YVtpXS5saW5rKydcIj4nK2RhdGFbaV0uYXV0aG9yKycodGl0bGUpPC9hPjwvaDQ+PHA+JytkZXNjcmlwdGlvbisnPC9wPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJhcnRpY2xlX19ib3R0b20tYmxvY2tcIj48cD48Yj5BdXRob3I6PC9iPiAnK2RhdGFbaV0uYXV0aG9yKyc8L3A+PHA+PGI+UHVibGljOjwvYj4gJythcnRpY2xlRGF0ZSsnPC9wPjwvZGl2PjwvZGl2PjwvZGl2Pic7XHJcbiAgICBcdFx0fVxyXG4gICAgXHRcdFx0JCgnI293bC1zbGlkZXInKS5wcmVwZW5kKGFydGljbGVMaXN0KTtcclxuXHJcblxyXG4gICAgXHRcdFx0JCgnLm93bC1jYXJvdXNlbCcpLm93bENhcm91c2VsKHtcclxuICAgIFx0XHRcdFx0aXRlbXM6MSxcclxuICAgIFx0XHRcdFx0bWFyZ2luOjMwLFxyXG4gICAgXHRcdFx0XHRuYXY6IGZhbHNlLFxyXG4gICAgXHRcdFx0XHRsb29wOnRydWUsXHJcbiAgICBcdFx0XHRcdGRvdHM6IHRydWUsXHJcbiAgICBcdFx0XHR9KTtcclxuICAgIFx0fVxyXG4gICAgXHQvLyBuZXdzIGZ1bmMgRU5EXHJcbiAgICBcdC8vIGNvbXBhbnkgZnVuY1xyXG4gICAgXHRmdW5jdGlvbiBjb21wYW55TGlzdChkYXRhKSB7XHJcbiAgICBcdFx0JCgnLnByZWxvYWRlcicpLnJlbW92ZSgpO1xyXG4gICAgXHRcdFxyXG5cclxuXHRcdFx0dmFyICRjb21wYW55TGlzdCA9ICQoJyNjb21wYW55TGlzdCcpLFxyXG5cdFx0XHQgXHQkdG90YWxDb21wYW55RGl2ID0gJCgnI3RvdGFsQ29tcGFuaWVzJyk7XHJcblx0XHRcdC8vINCy0YvQstC+0LQg0L7QsdGJ0LXQs9C+INC60L7Quy3QstCwINC60L7QvNC/0LDQvdC40LlcclxuXHRcdFx0JHRvdGFsQ29tcGFueURpdi5wcmVwZW5kKCc8ZGl2IGNsYXNzPVwiY2lyY2xlQ29tcGFueVwiPjxwPiAnKyBkYXRhLmxpc3QubGVuZ3RoICsnIDwvcD48L2Rpdj4gICcpO1xyXG5cclxuXHRcdFx0Ly8g0LLRi9Cy0L7QtCDQvtCx0YnQtdCz0L4g0LrQvtC7LdCy0LAg0LrQvtC80L/QsNC90LjQuSBFTkRcclxuXHJcblx0XHRcdC8vINCy0YvQstC+0LQg0LrQvtC80L/QsNC90LjQuVxyXG5cdFx0XHQkY29tcGFueUxpc3QuYXBwZW5kKCc8dWw+PC91bD4nKTtcclxuXHRcdFx0Zm9yICh2YXIgaSA9IGRhdGEubGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdCRjb21wYW55TGlzdC5jaGlsZHJlbigndWwnKS5wcmVwZW5kKCc8bGk+PGEgaHJlZj1cIiNcIiBjbGFzcz1cImNvbXBhbnlcIiBkYXRhLWNvbXBhbnk9XCInK2krJ1wiPicrIGRhdGEubGlzdFtpXS5uYW1lICsnPC9hPjwvbGk+JylcclxuXHRcdFx0fVxyXG5cdFx0XHQvLyDQstGL0LLQvtC0INC60L7QvNC/0LDQvdC40LkgRU5EXHJcblxyXG5cdFx0XHQvLyDQstGL0LLQvtC0INC/0LDRgNGC0L3QtdGA0L7QsiDQutC+0LzQsNC90LjQuFxyXG5cdFx0XHR2YXIgJHBhcmVudCxcclxuXHRcdFx0XHQkcGFydG5lcnMsXHJcblx0XHRcdFx0JHBhcnRuZXJzTGlzdCxcclxuXHRcdFx0XHRjb21wYW55TnVtYmVyLFxyXG5cdFx0XHRcdGNvbXBhbnlQYXJ0bmVycyxcclxuXHRcdFx0XHRwYXJ0bmVyc0FycmF5ID0gW10sXHJcblx0XHRcdFx0c29ydEJ5LFxyXG5cdFx0XHRcdHNvcnRXaGF0LFxyXG5cdFx0XHRcdHNvcnRpbmdOdW0xLFxyXG5cdFx0XHRcdHNvcnRpbmdOdW0yO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0XHQkKCcuY29tcGFueScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdCRwYXJlbnQgPSAkKHRoaXMpLnBhcmVudHMoJy5pdGVtJyk7XHJcblx0XHRcdFx0XHRjb21wYW55TnVtYmVyID0gJCh0aGlzKS5kYXRhKCdjb21wYW55Jyk7XHJcblx0XHRcdFx0XHRjb21wYW55UGFydG5lcnMgPSBkYXRhLmxpc3RbY29tcGFueU51bWJlcl0ucGFydG5lcnM7XHJcblx0XHRcdFx0XHQkcGFydG5lcnMgPSAkKCcjcGFydG5lcnMnKTtcclxuICAgIFx0XHRcdFx0JHBhcnRuZXJzTGlzdCA9ICQoJyNwYXJ0bmVycy1saXN0Jyk7XHJcblxyXG4gICAgXHRcdFx0XHRpZiAoICQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpICkge1xyXG4gICAgXHRcdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgXHRcdFx0XHRcdCRwYXJ0bmVyc0xpc3QuZW1wdHkoKTtcclxuICAgIFx0XHRcdFx0XHQkcGFydG5lcnMuaGlkZSgpO1xyXG4gICAgXHRcdFx0XHRcdHJldHVybjtcclxuICAgIFx0XHRcdFx0fSBlbHNlIHtcclxuICAgIFx0XHRcdFx0XHRpZiAoISRwYXJ0bmVycy5sZW5ndGgpIHtcclxuICAgIFx0XHRcdFx0XHRcdHZhciB0b3BCbG9jayA9ICc8ZGl2IGNsYXNzPVwidG9wQmxvY2tcIj48aDM+Q29tcGFueSBwYXJ0bmVyczwvaDM+PGRpdiBjbGFzcz1cInNvcnRpbmdcIj48cD48Yj5Tb3J0IGJ5OjwvYj4gPGEgaHJlZj1cIiNcIiBpZD1cIm5hbWVTb3J0XCIgY2xhc3M9XCJzb3J0aW5nLWJ0blwiPk5hbWU8L2E+IDxhIGhyZWY9XCIjXCIgaWQ9XCJwZXJjZW50YWdlU29ydFwiIGNsYXNzPVwic29ydGluZy1idG4gc29ydGVkIGRlc2Nzb3J0XCIgc29ydGluZz1cIkRFU0NcIj5QZXJjZW50YWdlPC9hPjwvcD48L2Rpdj48L2Rpdj4nLFxyXG4gICAgXHRcdFx0XHRcdFx0XHRwYXJ0bmVyTGlzdEJsb2NrID0gJzxkaXYgY2xhc3M9XCJsaXN0LXdyYXBcIj48dWwgaWQ9XCJwYXJ0bmVycy1saXN0XCI+PC91bD48L2Rpdj4nLFxyXG4gICAgXHRcdFx0XHRcdFx0XHRwYXJ0bmVyQmxvY2sgPSB0b3BCbG9jayArIHBhcnRuZXJMaXN0QmxvY2s7XHJcbiAgICBcdFx0XHRcdFx0XHQkcGFyZW50LmFmdGVyKCc8ZGl2IGlkPVwicGFydG5lcnNcIj48ZGl2IGNsYXNzPVwibGlzdC1vdXRlclwiPicrcGFydG5lckJsb2NrKyc8L2Rpdj48L2Rpdj4nKTtcclxuICAgIFx0XHRcdFx0XHR9XHJcbiAgICBcdFx0XHRcdFx0JCgnLmNvbXBhbnknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBcdFx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICBcdFx0XHRcdFx0JHBhcnRuZXJzLnNob3coKTtcclxuICAgIFx0XHRcdFx0fVxyXG4gICAgXHRcdFx0XHRpZiAoJHBhcnRuZXJzTGlzdC5jaGlsZHJlbignbGknKS5sZW5ndGgpIHtcclxuICAgIFx0XHRcdFx0XHQkcGFydG5lcnNMaXN0LmVtcHR5KCk7XHJcbiAgICBcdFx0XHRcdFx0JHBhcnRuZXJzLnNob3coKTtcclxuICAgIFx0XHRcdFx0fVxyXG5cclxuICAgIFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdC8vINCh0L7RgNGC0LjRgNC+0LLQutCwINC40LfQvdCw0YfQsNC70YzQvdCw0Y9cclxuICAgIFx0XHRcdFx0c29ydEJ5ID0gJCgnI3BhcnRuZXJzIC5zb3J0ZWQnKS5hdHRyKCdzb3J0aW5nJyk7XHJcbiAgICBcdFx0XHRcdHNvcnRXaGF0ID0gJCgnI3BhcnRuZXJzIC5zb3J0ZWQnKS5hdHRyKCdpZCcpO1xyXG4gICAgXHRcdFx0XHQvLyDQodC+0YDRgtC40YDQvtCy0LrQsCDQuNC30L3QsNGH0LDQu9GM0L3QsNGPXHJcbiAgICBcdFx0XHRcdHZhciBjdXJyZW50U29ydE1ldGhvZDtcclxuICAgIFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdGFwcGVuZFBhcnRuZXJzKGNvbXBhbnlQYXJ0bmVycywgc29ydEJ5LCBzb3J0V2hhdCk7XHJcbiAgICBcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHQkKCcjcGVyY2VudGFnZVNvcnQnKS5vZmYoJ2NsaWNrJyk7XHJcbiAgICBcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHQkKCcjcGVyY2VudGFnZVNvcnQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgXHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIFx0XHRcdFx0XHRzb3J0V2hhdCA9ICdwZXJjZW50YWdlLXNvcnQnO1xyXG4gICAgXHRcdFx0XHRcdGN1cnJlbnRTb3J0TWV0aG9kID0gJCh0aGlzKS5hdHRyKCdzb3J0aW5nJyk7XHJcbiAgICBcdFx0XHRcdFx0JCgnI3BhcnRuZXJzLWxpc3QnKS5lbXB0eSgpO1xyXG4gICAgXHRcdFx0XHRcdCQoJyNuYW1lU29ydCcpLnJlbW92ZUF0dHIoJ3NvcnRpbmcnKS5yZW1vdmVDbGFzcygnc29ydGVkIGRlc2Nzb3J0IGFzY3NvcnQnKTtcclxuXHRcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHRcdGlmICggY3VycmVudFNvcnRNZXRob2QgPT0gJ0RFU0MnICkge1xyXG4gICAgXHRcdFx0XHRcdFx0c29ydEJ5ID0gJ0FTQyc7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoJ3NvcnRpbmcnLCAnQVNDJyk7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdkZXNjc29ydCcpLmFkZENsYXNzKCdhc2Nzb3J0IHNvcnRlZCcpO1xyXG4gICAgXHRcdFx0XHRcdH0gZWxzZSBpZiAoY3VycmVudFNvcnRNZXRob2QgPT0gdW5kZWZpbmVkICYmICEkKHRoaXMpLmhhc0NsYXNzKCdzb3J0ZWQnKSkge1xyXG4gICAgXHRcdFx0XHRcdFx0c29ydEJ5ID0gJ0RFU0MnO1xyXG4gICAgXHRcdFx0XHRcdFx0JCh0aGlzKS5hdHRyKCdzb3J0aW5nJywnREVTQycpLmFkZENsYXNzKCdkZXNjc29ydCBzb3J0ZWQnKTtcclxuICAgIFx0XHRcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHRcdH0gZWxzZSB7XHJcbiAgICBcdFx0XHRcdFx0XHRzb3J0QnkgPSAnREVTQyc7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoJ3NvcnRpbmcnLCAnREVTQycpO1xyXG4gICAgXHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnYXNjc29ydCcpLmFkZENsYXNzKCdkZXNjc29ydCBzb3J0ZWQnKTtcclxuICAgIFx0XHRcdFx0XHR9XHJcblxyXG4gICAgXHRcdFx0XHRcdGFwcGVuZFBhcnRuZXJzKGNvbXBhbnlQYXJ0bmVycywgc29ydEJ5LCBzb3J0V2hhdCk7XHJcbiAgICBcdFx0XHRcdH0pO1xyXG5cclxuICAgIFx0XHRcdFx0XHJcbiAgICBcdFx0XHRcdCQoJyNuYW1lU29ydCcpLm9mZignY2xpY2snKTtcclxuICAgIFx0XHRcdFx0JCgnI25hbWVTb3J0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcdFx0XHRcdFx0c29ydFdoYXQgPSAnbmFtZS1zb3J0JztcclxuICAgIFx0XHRcdFx0XHRjdXJyZW50U29ydE1ldGhvZCA9ICQodGhpcykuYXR0cignc29ydGluZycpO1xyXG4gICAgXHRcdFx0XHRcdCQoJyNwYXJ0bmVycy1saXN0JykuZW1wdHkoKTtcclxuICAgIFx0XHRcdFx0XHQkKCcjcGVyY2VudGFnZVNvcnQnKS5yZW1vdmVBdHRyKCdzb3J0aW5nJykucmVtb3ZlQ2xhc3MoJ3NvcnRlZCBkZXNjc29ydCBhc2Nzb3J0Jyk7XHJcblxyXG4gICAgXHRcdFx0XHRcdGlmICggY3VycmVudFNvcnRNZXRob2QgPT0gJ0RFU0MnICkge1xyXG4gICAgXHRcdFx0XHRcdFx0c29ydEJ5ID0gJ0FTQyc7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoJ3NvcnRpbmcnLCAnQVNDJyk7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKCdkZXNjc29ydCcpLmFkZENsYXNzKCdhc2Nzb3J0IHNvcnRlZCcpO1xyXG4gICAgXHRcdFx0XHRcdH0gZWxzZSBpZiAoY3VycmVudFNvcnRNZXRob2QgPT0gdW5kZWZpbmVkICYmICEkKHRoaXMpLmhhc0NsYXNzKCdzb3J0ZWQnKSkge1xyXG4gICAgXHRcdFx0XHRcdFx0c29ydEJ5ID0gJ0RFU0MnO1xyXG4gICAgXHRcdFx0XHRcdFx0JCh0aGlzKS5hdHRyKCdzb3J0aW5nJywnREVTQycpLmFkZENsYXNzKCdkZXNjc29ydCBzb3J0ZWQnKTtcclxuICAgIFx0XHRcdFx0XHRcdFxyXG4gICAgXHRcdFx0XHRcdH0gZWxzZSB7XHJcbiAgICBcdFx0XHRcdFx0XHRzb3J0QnkgPSAnREVTQyc7XHJcbiAgICBcdFx0XHRcdFx0XHQkKHRoaXMpLmF0dHIoJ3NvcnRpbmcnLCAnREVTQycpO1xyXG4gICAgXHRcdFx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnYXNjc29ydCcpLmFkZENsYXNzKCdkZXNjc29ydCBzb3J0ZWQnKTtcclxuICAgIFx0XHRcdFx0XHR9XHJcbiAgICBcdFx0XHRcdFx0YXBwZW5kUGFydG5lcnMoY29tcGFueVBhcnRuZXJzLCBzb3J0QnksIHNvcnRXaGF0KTtcclxuICAgIFx0XHRcdFx0fSk7XHJcblxyXG4gICAgXHRcdFx0fSk7XHJcbiAgICBcdFx0XHRcclxuICAgIFx0XHRcdGZ1bmN0aW9uIGFwcGVuZFBhcnRuZXJzKHBhcnRuZXJzLCBzb3J0QnksIHNvcnRXaGF0KSB7XHJcbiAgICBcdFx0XHRcdHBhcnRuZXJzID0gc29ydGluZyhzb3J0Qnksc29ydFdoYXQpO1xyXG4gICAgXHRcdFx0XHR2YXIgcGFydG5lcnNBcnJheSA9IFtdO1xyXG4gICAgXHRcdFx0XHRmb3IgKHZhciBpID0gcGFydG5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgIFx0XHRcdFx0XHRwYXJ0bmVyc0FycmF5ICs9ICc8bGk+PGRpdiBjbGFzcz1cInZhbHVlXCI+PHA+JytwYXJ0bmVyc1tpXS52YWx1ZSsnPC9wPjwvZGl2PjxkaXYgY2xhc3M9XCJuYW1lXCI+PHA+JytwYXJ0bmVyc1tpXS5uYW1lKyc8L3A+PC9kaXY+PC9saT4nO1xyXG4gICAgXHRcdFx0XHR9XHJcblxyXG4gICAgXHRcdFx0XHQkKCcjcGFydG5lcnMtbGlzdCcpLnByZXBlbmQocGFydG5lcnNBcnJheSk7XHJcbiAgICBcdFx0XHRcdHJldHVybiBwYXJ0bmVyc0FycmF5O1xyXG4gICAgXHRcdFx0fVxyXG5cclxuICAgIFx0XHRcdGZ1bmN0aW9uIHNvcnRpbmcoc29ydEJ5LHNvcnRXaGF0KSB7XHJcbiAgICBcdFx0XHRcdGlmIChzb3J0QnkgPT0gJ0RFU0MnKSB7XHJcbiAgICBcdFx0XHRcdFx0c29ydGluZ051bTEgPSAxO1xyXG4gICAgXHRcdFx0XHRcdHNvcnRpbmdOdW0yID0gLTE7XHJcbiAgICBcdFx0XHRcdH0gZWxzZSB7XHJcbiAgICBcdFx0XHRcdFx0c29ydGluZ051bTEgPSAtMTtcclxuICAgIFx0XHRcdFx0XHRzb3J0aW5nTnVtMiA9IDE7XHJcbiAgICBcdFx0XHRcdH1cclxuICAgIFx0XHRcdFx0aWYgKHNvcnRXaGF0ID09ICdwZXJjZW50YWdlLXNvcnQnKSB7XHJcbiAgICBcdFx0XHRcdFx0Y29tcGFueVBhcnRuZXJzLnNvcnQoZnVuY3Rpb24oYSxiKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRpZiAoYS52YWx1ZSA+IGIudmFsdWUpIHtcclxuICAgIFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNvcnRpbmdOdW0xO1xyXG4gICAgXHRcdFx0XHRcdFx0fVxyXG4gICAgXHRcdFx0XHRcdFx0aWYgKGEudmFsdWUgPCBiLnZhbHVlKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRcdHJldHVybiBzb3J0aW5nTnVtMjtcclxuICAgIFx0XHRcdFx0XHRcdH1cclxuICAgIFx0XHRcdFx0XHR9KTtcclxuICAgIFx0XHRcdFx0fSBlbHNlIGlmIChzb3J0V2hhdCA9PSAnbmFtZS1zb3J0Jykge1xyXG4gICAgXHRcdFx0XHRcdGNvbXBhbnlQYXJ0bmVycy5zb3J0KGZ1bmN0aW9uKGEsYikge1xyXG4gICAgXHRcdFx0XHRcdFx0aWYgKGEubmFtZSA+IGIubmFtZSkge1xyXG4gICAgXHRcdFx0XHRcdFx0XHRyZXR1cm4gc29ydGluZ051bTE7XHJcbiAgICBcdFx0XHRcdFx0XHR9XHJcbiAgICBcdFx0XHRcdFx0XHRpZiAoYS5uYW1lIDwgYi5uYW1lKSB7XHJcbiAgICBcdFx0XHRcdFx0XHRcdHJldHVybiBzb3J0aW5nTnVtMjtcclxuICAgIFx0XHRcdFx0XHRcdH1cclxuICAgIFx0XHRcdFx0XHR9KTtcclxuICAgIFx0XHRcdFx0fVxyXG4gICAgXHRcdFx0XHRcclxuICAgIFx0XHRcdFx0cmV0dXJuIGNvbXBhbnlQYXJ0bmVycztcclxuICAgIFx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cclxuXHRcdFx0Ly8g0LrQvtC90LXRhiDQstGL0LLQvtC00LAg0L/QsNGA0YLQvdC10YDQvtCyINC60L7QvNC/0LDQvdC40LhcclxuXHRcdFx0Ly8g0LLRi9Cy0L7QtCDQutC+0LzQv9Cw0L3QuNC5IEVORFxyXG5cclxuXHRcdFx0Ly8gbG9jYXRpb25cclxuXHRcdFx0dmFyIGNvdW50cnlBcnIgPSB7fTtcclxuXHJcblx0XHRcdGZvciAodmFyIGkgPSBkYXRhLmxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuXHRcdFx0XHRpZiAoY291bnRyeUFycltkYXRhLmxpc3RbaV0ubG9jYXRpb24ubmFtZV0hPXVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0Y291bnRyeUFycltkYXRhLmxpc3RbaV0ubG9jYXRpb24ubmFtZV0rK1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjb3VudHJ5QXJyW2RhdGEubGlzdFtpXS5sb2NhdGlvbi5uYW1lXT0xXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cclxuXHRcdFx0dmFyIGNoYXJ0RGF0YSA9IFtdLFxyXG5cdFx0XHRcdGNoYXJ0TGFiZWxzID0gW107XHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBjb3VudHJ5QXJyKSB7XHJcblxyXG5cdFx0XHQgICAgY2hhcnREYXRhLnB1c2goY291bnRyeUFycltrZXldICogMTAwIC8gZGF0YS5saXN0Lmxlbmd0aCk7XHJcblx0XHRcdCAgICBjaGFydExhYmVscy5wdXNoKGtleSk7XHRcdFx0ICAgIFxyXG5cdFx0XHR9XHJcblx0XHRcdC8vINCU0LjQsNCz0YDQsNC80LzQsFxyXG5cdFx0XHRjaGFydChjaGFydERhdGEsIGNoYXJ0TGFiZWxzKTtcclxuXHRcdFx0ZnVuY3Rpb24gY2hhcnQoY2hhcnREYXRhLCBjaGFydExhYmVscykge1xyXG5cdFx0XHRcdHZhciBjdHggPSAkKFwiI215Q2hhcnRcIiksXHJcblx0XHRcdFx0XHRjaGFydENvbG9ycyA9IFtdO1xyXG5cclxuXHRcdFx0XHRmb3IgKHZhciBpID0gY2hhcnREYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcblx0XHRcdFx0XHRjaGFydENvbG9ycy5wdXNoKFJhbmRvbUNvbG9yKCkpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQkKCcjbXlDaGFydCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdHZhciBpdGVtID0gbXlQaWVDaGFydC5nZXRFbGVtZW50QXRFdmVudChlKVswXSxcclxuXHRcdFx0XHRcdFx0Y291bnRyeSA9IGl0ZW0uX21vZGVsLmxhYmVsLFxyXG5cdFx0XHRcdFx0XHRsaXN0ID0gZGF0YS5saXN0LFxyXG5cdFx0XHRcdFx0XHRjb21wYW55ID0gJyc7XHJcblx0XHRcdFx0XHRmb3IgKHZhciBpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdFx0XHRpZiAobGlzdFtpXS5sb2NhdGlvbi5uYW1lID09IGNvdW50cnkpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBjb21wYW55LnB1c2gobGlzdFtpXS5uYW1lKTtcclxuXHRcdFx0XHRcdFx0XHRjb21wYW55ICs9ICc8bGk+JytsaXN0W2ldLm5hbWUrJzwvbGk+JztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0JCgnI215Q2hhcnQnKS5oaWRlKCk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCAkKCcjY29tcGFueUxvYyAuY291bnRyeUxpc3QnKS5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRcdCQoJyNjb21wYW55TG9jIC5jb3VudHJ5TGlzdCwgI2JhY2tCdG4nKS5zaG93KCk7XHJcblx0XHRcdFx0XHRcdCQoJyNjb21wYW55TG9jIC5jb3VudHJ5TGlzdCcpLmVtcHR5KCkuYXBwZW5kKGNvbXBhbnkpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0JCgnI2NvbXBhbnlMb2MnKS5hcHBlbmQoJzx1bCBjbGFzcz1cImNvdW50cnlMaXN0XCI+Jytjb21wYW55Kyc8L3VsPicpO1xyXG5cdFx0XHRcdFx0XHQkKCcjY29tcGFueUxvYycpLnBhcmVudCgnLml0ZW1XcmFwJykuYXBwZW5kKCc8YSBocmVmPVwiI1wiIGlkPVwiYmFja0J0blwiPjwvYT4nKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0JCgnI2JhY2tCdG4nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdFx0XHRcdCQoJyNjb21wYW55TG9jIC5jb3VudHJ5TGlzdCwgI2JhY2tCdG4nKS5oaWRlKCk7XHJcblx0XHRcdFx0XHRcdCQoJyNteUNoYXJ0Jykuc2hvdygpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHRcclxuXHRcdFx0XHR2YXIgbXlQaWVDaGFydCA9IG5ldyBDaGFydChjdHgse1xyXG5cdFx0XHRcdCAgICB0eXBlOiAncGllJyxcclxuXHRcdFx0ICAgICAgICBkYXRhOiB7XHJcblx0XHRcdCAgICAgICAgICAgIGRhdGFzZXRzOiBbe1xyXG5cdFx0XHQgICAgICAgICAgICAgICAgZGF0YTogY2hhcnREYXRhLFxyXG5cdFx0XHQgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjaGFydENvbG9ycyxcclxuXHRcdFx0ICAgICAgICAgICAgICAgIC8vIGxhYmVsOiAnRGF0YXNldCAxJ1xyXG5cdFx0XHQgICAgICAgICAgICB9XSxcclxuXHRcdFx0ICAgICAgICAgICAgbGFiZWxzOiBjaGFydExhYmVsc1xyXG5cdFx0XHQgICAgICAgIH0sXHJcblx0XHRcdCAgICAgICAgb3B0aW9uczoge1xyXG5cdFx0XHQgICAgICAgIFx0bGF5b3V0OiB7XHJcblx0XHRcdFx0ICAgICAgICAgICBwYWRkaW5nOiB7XHJcblx0XHRcdFx0ICAgICAgICAgICAgICAgbGVmdDogMCxcclxuXHRcdFx0XHQgICAgICAgICAgICAgICByaWdodDogMCxcclxuXHRcdFx0XHQgICAgICAgICAgICAgICB0b3A6IDI1LFxyXG5cdFx0XHRcdCAgICAgICAgICAgICAgIGJvdHRvbTogMFxyXG5cdFx0XHRcdCAgICAgICAgICAgfVxyXG5cdFx0XHRcdCAgICAgICBcdH0sXHJcblx0XHRcdCAgICAgICAgXHR0b29sdGlwczoge1xyXG5cdFx0XHQgICAgICAgIFx0ICAgIGludGVyc2VjdDogdHJ1ZSxcclxuXHRcdFx0ICAgICAgICBcdCAgICBlbmFibGVkOiB0cnVlLFxyXG5cdFx0XHQgICAgICAgIFx0ICAgIGRpc3BsYXlDb2xvcnM6IHRydWUsXHJcblx0XHRcdCAgICAgICAgXHQgICAgYm9keUZvbnRDb2xvcjogJyNmZmYnLFxyXG5cdFx0XHQgICAgICAgIFx0fSxcclxuXHRcdFx0ICAgICAgICBcdGxlZ2VuZDoge1xyXG5cdFx0XHQgICAgICAgIFx0ICAgIGRpc3BsYXk6IGZhbHNlLCAgICAgIFx0ICAgIFxyXG5cdFx0XHQgICAgICAgIFx0fSxcclxuXHRcdFx0ICAgICAgICB9XHRcdFx0XHRcdCAgICAgICAgXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0ZnVuY3Rpb24gUmFuZG9tQ29sb3IoKSB7XHJcblx0XHRcdFx0XHR2YXIgbWF4ID0gMTUwLFxyXG5cdFx0XHRcdFx0bWluID0gMTA7XHJcblx0XHRcdFx0XHR2YXIgciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICgyNTYpKTtcclxuXHRcdFx0XHRcdHZhciBnID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKDI1NikpO1xyXG5cdFx0XHRcdFx0dmFyIGIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoMjU2KSk7XHJcblx0XHRcdFx0XHR2YXIgbyA9IChNYXRoLnJhbmRvbSgpICogMSk7XHJcblx0XHRcdFx0XHR2YXIgYyA9ICdyZ2JhKCcgKyByICsgJywgJyArIGcgKyAnLCAnICsgYiArICcsIDEpJztcclxuXHRcdFx0XHRcdHJldHVybiBjO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdFx0Ly8g0JTQuNCw0LPRgNCw0LzQvNCwIEVORFxyXG5cdFx0XHRcclxuXHJcblx0XHRcdC8vIGxvY2F0aW9uIEVORFxyXG4gICAgXHR9XHJcbiAgICBcdC8vIGNvbXBhbnkgZnVuYyBFTkRcclxuXHJcblx0fSkoKTtcclxuXHQvLyBjb21wYW55LXBhZ2UgRU5EXHJcbn0pOyJdfQ==
